/*
 FusionCharts JavaScript Library
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.11.2
*/
(function(P){"object"===typeof module&&"undefined"!==typeof module.exports?module.exports=P:P(FusionCharts)})(function(P){P.register("module",["private","modules.renderer.js-gradientlegend",function(){function B(a,h){(function r(h,a){var q,b;for(b in h)c.call(h,b)&&(q=h[b],void 0===a[b]?a[b]=q:"object"===typeof q&&r(q,a[b]))})(a,h);return h}function Q(q){return ia(q?q:a)||a}function A(a){var h=a.fontSize+"";if(!h)return a;h=h.replace(/(\d+)(px)*/,"$1px");a.fontSize=h;return a}function L(a){return void 0===
a||"undefined"===typeof a||null===a||a!==a?!0:!1}function l(a,h){this.carpet=a;this._componentPool=h}function M(a){this.conf=a;this._id="GL_CARPET";this.compositionsByCategory={};this._lSpace=this.group=this.node=void 0;this.autoRecalculate=!1;this.groupName="fc-gradient-legend";this.moveInstructions={}}function G(){M.apply(this,arguments)}function N(a,h){this.rawText=a;this.conf=h;this._id="GL_CAPTION";this._lSpace=this.bound=this.node=void 0}function m(a,h,d){this.colorRange=a;this.conf=h;this.childTextConf=
d;this._id="GL_BODY";this.bound=void 0;this.compositionsByCategory={};this._lSpace=void 0}function W(){m.apply(this,arguments)}function R(a){this.conf=a;this._id="GL_LABELS"}function ba(){R.apply(this,arguments)}function S(){R.apply(this,arguments);this._id="GL_VALUES"}function ca(){S.apply(this,arguments);this._id="GL_VALUES"}function I(a){this.conf=a;this._id="FL_AXIS";this.markerLine=this.shadow=this.node=void 0;this.compositionsByCategory={}}function V(){I.apply(this,arguments)}function J(a){var h=
{};this._id="GL_SG1";this.conf=a;h.conf=a;this.extremes=[];this.sliders={};h.sliderGroup=this;this.valueRange=[];this.callbacks=[];this.sliders[!1]=new K(!1,h,this._id+"_0");this.sliders[!0]=new K(!0,h,this._id+"_1")}function K(a,h,d){this.conf=h.conf;this.sliderIndex=a;this.rangeGroup=h.sliderGroup;this._id=d;this.tracker=this.node=void 0;this.currPos=0;this.swing=[]}function X(a,h,d){d=d.components.numberFormatter;var b,f,c,e,k,g;this.data=a;this.options=h||{};g=this.mapByPercent=!!a.mapByPercent;
this.appender="";f=this.mapByPercent?0:h.min;h=this.mapByPercent?100:h.max;2===a.colorRange.length&&(b=a.colorRange[0],c=a.colorRange[1],e=b.value=L(b.value)?f:b.value,k=c.value=L(c.value)?h:c.value,e===k&&(e=b.value=f,k=c.value=h),b.displayValue=g?e+"%":d.legendValue(e),c.displayValue=g?k+"%":d.legendValue(k));L(f)&&L(b.value)||L(h)&&L(b.value)||!a.gradient?this._preparationGoneWrong=!0:this._preparationGoneWrong=!1;d=this.colorRange=a.colorRange.sort(function(a,h){return a.value-h.value});this.valueRatio=
void 0;this.values=[];a=0;for(b=d.length;a<b;a++)this.values.push(d[a].value)}function Z(){l.apply(this,arguments)}var T=this,O=T.hcLib,x=O.pluckNumber,H=O.pluck,ea=O.toRaphaelColor,da=O.graphics,ga=O.dehashify,U=O.hashify,Y=da.convertColor,aa=da.RGBtoHex,ha=da.HEXtoRGB,ja=da.getLightColor,ia=da.getValidColor,fa="rgba(192,192,192,"+(O.isIE?.002:1E-6)+")",b,a=O.COLOR_BLACK,c={}.hasOwnProperty,e,g={};b=function(){function a(d){var q=h.numberFormatter,b,r,c;b=0;for(r=d.length;b<r;b++)if(c=d[b].maxvalue)d[b].maxvalue=
q.getCleanValue(c)}var h,d,b={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};b.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},
style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:ea({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}};b.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:fa,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:fa,stroke:"#FFFFFF"}}};b.axisTextItemConf={spreadFactor:.3,
padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}};return{init:function(a){d=a.chart;h=d.components},setConf:function(a){},legacyDataParser:function(d,b){var r={},c=h.numberFormatter,e,g,t,D,l,m,w,z,C;if(!d)return!1;r.mapByPercent=C=!!x(d.mapbypercent,0);e=d.color||[];void 0===d.minvalue&&(d.minvalue=void 0!==b.min?C?0:b.min:0);void 0===d.maxvalue&&(d.maxvalue=void 0!==b.max?C?100:b.max:100);m=!1;t=0;for(D=e.length;t<D;t++)if(e[t].maxvalue){m=
!0;break}m||(e=[]);t=d.code;m=r.colorRange=[];r.gradient=!!x(d.gradient,1);e.length?t=Q(t):(t?(D=Q(t),t=Q()):(t=Q(),D=ja(t,1)),e.push({code:D,maxvalue:d.maxvalue,label:void 0}));a(e);e=e.sort(function(a,d){return a.maxvalue-d.maxvalue});w=z=d.minvalue&&c.getCleanValue(d.minvalue);z=(void 0!==w||null!==w)&&(C?w+"%":c.legendValue(w));m.push({code:ga(t),value:w,displayValue:z,label:d.startlabel});t=0;for(D=e.length;t<D;t++)g=e[t],l=Q(g.code||g.color),w=z=g.maxvalue,isNaN(parseInt(w,10))||(z=(void 0!==
w||null!==w)&&(C?w+"%":c.legendValue(w)),m.push(Object({code:ga(l),value:w,displayValue:z,label:g.label||g.displayvalue})));m[m.length-1].label=d.endlabel||g.label;return r},getDefaultConf:function(a){return b[a]}}}();e=function(a){var h=a.chartInstance.id,d=g[h]||(g[h]={});return function(){function b(){var a,h,q,f,r,c;for(a in d)for(h in q=d[a],q)if(f=q[h],f instanceof Array)for(r=0,c=f.length;r<c;r++)f[r]&&f[r].hide();else f.hide()}var f,c={},e;f={KEY_RECT:"rect",KEY_TEXT:"text",KEY_GROUP:"group",
KEY_CIRCLE:"circle",KEY_PATH:"path"};c[f.KEY_RECT]=function(a){return e.rect(a)};c[f.KEY_TEXT]=function(a,d){return e.text(a,d)};c[f.KEY_GROUP]=function(a,d){return e.group(a,d)};c[f.KEY_CIRCLE]=function(a){return e.circle(a)};c[f.KEY_PATH]=function(a,d){return e.path(a,d)};return{init:function(a){e=a;b()},emptyPool:function(){d=g[h]={}},getChart:function(){return a},getComponent:function(a,h,b){var q=d[a],f,r,e,g=0;q||(q=d[a]={});return(r=q[h])&&!(r instanceof Array)||r instanceof Array&&0<r.length?
function(){return b?(e=r[g++])?e.show():r[g]=c[h].apply(this,arguments):r.show()}:function(){return b?(f=q[h]||(q[h]=[]),r=c[h].apply(this,arguments),f.push(r),r.show()):q[h]=c[h].apply(this,arguments)}},hideAll:function(){b()},getKeys:function(){return f}}}()};l.prototype.constructor=l;l.prototype.draw=function(a){a.componentPool=this._componentPool;return this.carpet.draw(a)};l.prototype.getLogicalSpace=function(a,h){a.componentPool=this._componentPool;return this.carpet.getLogicalSpace(a,h)};l.prototype.dispose=
function(){this.carpet&&this.carpet.group&&this.carpet.group.remove();this._componentPool.emptyPool()};M.prototype.constructor=M;M.prototype.addCompositions=function(a,h){this.compositionsByCategory[h]=a};M.prototype.getBoundingBox=function(a){var h=this.conf,d=a.refSide,b=a.alignment,f=a.refOffset,c=a.x,e=a.y,h=h.width=d*h.spreadFactor;!b||void 0!==c&&null!==c||(c=(f+d)/2-h/2);return{width:h,height:a.maxOtherSide,x:c,y:e}};M.prototype.getPostCalcDecisions=function(a,h){var d=this.conf.padding,b,
f=0;for(b in h)f+=h[b].height||0;a.height=f+2*d.v};M.prototype.getLogicalSpace=function(a,h){var d=this._lSpace,b=this.conf.padding,f=this.compositionsByCategory,c,e,k;k=0;var g={},n,t=0;if(d&&!h)return d.isImpure=!0,d;d=this._lSpace=e=this.getBoundingBox(a);if(L(d.x)||L(d.y)||L(d.height)||L(d.width))this.autoRecalculate=!0;d=B(e,{});d.height-=2*b.v;d.width-=2*b.h;d.x+=b.h;d.y+=b.v;for(n in f)c=f[n],b=B(d,{}),b.y+=k,k=d.height*c.conf.spreadFactor,b.height=k+t,k=c.getLogicalSpace(B(b,{}),a,h),t=b.height-
k.height,g[n]=k,k=k.height;this.getPostCalcDecisions(e,g);return this._lSpace=e};M.prototype.setupDragging=function(){var a=this.group,h=0,d=0,b=0,f=0;a.css({cursor:"move"});a.drag(function(c,e){h=c;d=e;a.attr({transform:"t"+(b+h)+","+(f+d)})},function(){b+=h;f+=d},function(){})};M.prototype.draw=function(a){var h=this.conf,d=this.compositionsByCategory,b=a.paper,f=a.parentGroup,c=a.componentPool,e,k,g=c.getChart().get("config","animationObj").duration,n,t=c.getKeys();this.getLogicalSpace(a,this.autoRecalculate);
k=this._lSpace;n=c.getComponent(this._id,t.KEY_GROUP);this.group=f=n(this.groupName,f);f.attr({opacity:0});f.animate({opacity:1},g,"easeIn");n=c.getComponent(this._id,t.KEY_RECT);this.node=n(f).attr(k).css(h.style);for(e in d)c=d[e],c.draw(h.captionAlignment,k,{colorRange:a.colorRange,numberFormatter:a.numberFormatter,paper:b,parentLayer:f,smartLabel:a.smartLabel,moveInstructions:this.moveInstructions[e],componentPool:a.componentPool});h.allowDrag&&this.setupDragging();return this.node};G.prototype=
Object.create(M.prototype);G.prototype.constructor=G;G.prototype.getBoundingBox=function(a){var h=this.conf,d=a.refSide,b=a.alignment,f=a.refOffset,c=a.x,e=a.y,h=h.height=d*h.spreadFactor;!b||void 0!==e&&null!==e||(e=(f+d)/2-h/2);return{width:a.maxOtherSide,height:h,x:c,y:e}};G.prototype.getPostCalcDecisions=function(a,h){var d=this.conf.padding,b=Number.NEGATIVE_INFINITY,f,c,e=this.moveInstructions;M.prototype.getPostCalcDecisions.apply(this,arguments);for(c in h)f=h[c].width,b=b<f?f:b;a.width=b+
2*d.h;for(c in h)if(f=h[c].width,d=b-f)e[c]="t"+d/2+",0"};N.prototype.constructor=N;N.LEFT={x:function(a,h){return h.x+a.width/2+2}};N.RIGHT={x:function(a,h){return h.x+h.width-a.width/2-2}};N.CENTER={x:function(a,h){return h.x+h.width/2}};N.prototype.getLogicalSpace=function(a,h,d){var b=this.conf.padding,f=this._lSpace,c=this.rawText,e=h.componentPool.getChart();if(f&&!d)return f.isImpure=!0,f;f=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartText:void 0}};d=h.smartLabel;if(!c)return f.bound;
h=B(a,{});h.height-=2*b.v;h.width-=2*b.h;h.x+=b.h;h.y+=b.v;d.useEllipsesOnOverflow(e.config.useEllipsesWhenOverflow);e=B(this.conf.style,{});A(e);d.setStyle(this._metaStyle=e);c=d.getSmartText(c,h.width,h.height);h.height=c.height;h.width=c.width;a.height=c.height+2*b.v;a.width=c.width+2*b.h;f.node.smartText=c;f.node.logicArea=h;return f.bound=a};N.prototype.draw=function(){var a=this.conf,h,d=a.bound||{},b,f,c,e,k,g,n;3<=arguments.length?(c=arguments[0],e=arguments[1],k=arguments[2]):2<=arguments.length&&
(c=arguments[0],k=arguments[1]);h=k.parentLayer;g=k.componentPool;n=g.getKeys();b=g.getComponent(this._id,n.KEY_GROUP);this.group=h=b("legend-caption",h).css(a.style);this.getLogicalSpace(e,k);b=this._lSpace;k=b.node;f=b.bound;b=g.getComponent(this._id,n.KEY_RECT);this.bound=d=b(h).attr(f).css(d.style);c="string"===typeof c?N[c.toUpperCase()].x(k.smartText,e||k.logicArea):c;b=g.getComponent(this._id,n.KEY_TEXT);this.node=b({},h).attr({text:k.smartText.text,x:c,y:k.logicArea.y+k.smartText.height/2,
lineHeight:this._metaStyle.lineHeight,fill:a.style.fill});return{group:h,bound:d,node:this.node}};m.SC_STACK=["LEGEND_LABEL","LEGEND_AXIS","AXIS_VALUE"];m.DARW_STACK=["AXIS_VALUE","LEGEND_AXIS","LEGEND_LABEL"];m.prototype.constructor=m;m.prototype.addCompositions=function(a,h){this.compositionsByCategory[h]=a};m.prototype.getCompositionPlotAreaFor=function(a){var h;h=B(a,{});return function(d,b){d=d||{};h.y+=d.height||0;h.height=a.height*b;return h}};m.prototype.getSpaceTaken=function(a){return a.height};
m.prototype.updateEffectivePlotArea=function(a,h,d){var b=this.conf.padding;h.height=d;a.height=d+2*b.v};m.prototype.getLogicalSpace=function(a,b,d){var c=this._lSpace,f=this.conf.padding,e=this.compositionsByCategory,g,k,p,n=0,t,D;if(c&&!d)return c.isImpure=!0,c;c=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}};k=B(a,{});k.height-=2*f.v;k.width-=2*f.h;k.x+=f.h;k.y+=f.v;p=this.getCompositionPlotAreaFor(k);b.colorRange=this.colorRange;t=0;for(D=m.SC_STACK.length;t<D;t++)if(f=e[m.SC_STACK[t]])g=
p(g,f.conf.spreadFactor),g=f.getLogicalSpace(B(g,{}),b,d),n+=this.getSpaceTaken(g);this.updateEffectivePlotArea(a,k,n);c.node.logicArea=k;return c.bound=a};m.prototype.draw=function(){var a=this.childTextConf,b=this.conf.bound.style||{},d=this.compositionsByCategory,c,f,e,g,k,p,n;3<=arguments.length?(e=arguments[1],k=arguments[2]):2<=arguments.length&&(k=arguments[1]);c=k.parentLayer;g=k.componentPool;p=g.getKeys();this.getLogicalSpace(e,k);e=this._lSpace;n=g.getComponent(this._id,p.KEY_GROUP);a=
n("legend-body",c).attr({transform:"t0,0"}).css(a.style);n=g.getComponent(this._id,p.KEY_RECT);this.bound=b=n(a).attr(e.bound).css(b);k.colorRange=this.colorRange;k.parentLayer=a;g=0;for(p=m.DARW_STACK.length;g<p;g++)(f=d[m.DARW_STACK[g]])&&f.draw(k);k.moveInstructions&&a.attr({transform:k.moveInstructions});return{bound:b,group:a}};W.prototype=Object.create(m.prototype);W.prototype.constructor=W;W.prototype.getCompositionPlotAreaFor=function(a){var b;b=B(a,{});return function(d,c){d=d||{};b.x+=d.width||
0;b.width=a.width*c;return b}};W.prototype.updateEffectivePlotArea=function(a,b,d){var c=this.conf.padding;b.width=d;a.width=d+2*c.h};W.prototype.getSpaceTaken=function(a){return a.width};R.prototype.constructor=R;R.prototype.getEffectivePlotArea=function(a){var b=this.conf.padding;a.height-=2*b.v;a.width-=2*b.h;a.x+=b.h;a.y+=b.v;this.node=[];return a};R.prototype.getLogicalSpace=function(a,b,d){var c=this._lSpace,f=this.conf,e=f.padding,g,k,p=[],n,t,m,l,y,w=0,z,C,x;y=b.componentPool.getChart();var E=
[];if(c&&!d)return c.isImpure=!0,c;c=b.colorRange;b=b.smartLabel;d=c.getCumulativeValueRatio();g=c.colorRange;c=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}};l=c.node.smartTexts;n=B(a,{});n=this.getEffectivePlotArea(n);b.useEllipsesOnOverflow(y.config.useEllipsesWhenOverflow);f=B(f.style,{});A(this._metaStyle=f);b.setStyle(f);y=b.getSmartText("W");k=0;for(f=g.length;k<f;k++)(t=g[k].label)?(w++,E.push({oriIndex:k,label:t})):l[k]=void 0;f=E.length;if(0===f)return{height:0,
width:0};t=m=1<f?(d[E[f-1].oriIndex]-d[E[0].oriIndex])/2*n.width/100:Math.max(d[E[0].oriIndex],100-d[E[0].oriIndex])/2*n.width/100;w=b.getSmartText(E[0].label,t,n.height);w.x=d[E[0].oriIndex]*n.width/100;k=w.x+w.width;p.push(w.height);l[E[0].oriIndex]=w;w=b.getSmartText(E[f-1].label,t,n.height);w.x=d[E[f-1].oriIndex]*n.width/100;g=w.x-w.width;p.push(w.height);l[E[f-1].oriIndex]=w;C=k;for(k=1;k<f-1;k++)t=E[k].label,x=E[k].oriIndex,w=void 0,m=k+1===f-1?g:d[E[k+1].oriIndex]*n.width/100,z=d[E[k].oriIndex]*
n.width/100,m=Math.min(z-C,m-z),m>2*y.width&&(w=b.getSmartText(t,m,n.height),w.x=d[x]*n.width/100,C=m,p.push(w.height)),l[E[k].oriIndex]=w;p=Math.max.apply(Math,p);n.height=p;a.height=p+2*e.v;c.node.logicArea=n;return c.bound=a};R.prototype.draw=function(){var a,b,d=this.conf;b=d.bound&&d.bound.style||{stroke:"none"};var c,f,e,g,k,p,n,t;2<=arguments.length?(f=arguments[0],g=arguments[1]):1<=arguments.length&&(g=arguments[0]);a=g.parentLayer;g.colorRange.getCumulativeValueRatio();c=g.componentPool;
k=c.getKeys();this.getLogicalSpace(f,g);e=this._lSpace;f=e.node.logicArea;g=e.node.smartTexts;t=c.getComponent(this._id,k.KEY_GROUP);a=t("legend-labels",a);t=c.getComponent(this._id,k.KEY_RECT);this.bound=b=t(a).attr(e.bound).css(b);t=c.getComponent(this._id,k.KEY_TEXT,!0);k=0;for(e=g.length;k<e;k++)if(c=g[k])p=f.y+c.height/2,n=k===e-1?f.x+c.x-c.width/2:k?f.x+c.x:f.x+c.x+c.width/2,this.node.push(t({},a).attr({text:c.text,x:n,y:p,lineHeight:this._metaStyle.lineHeight,fill:d.style.fill}).transform("R0"));
return{group:a,bound:b,node:this.node}};ba.prototype=Object.create(R.prototype);ba.prototype.constructor=ba;ba.prototype.getLogicalSpace=function(a,b,d){var c=this._lSpace,f=this.conf,e=f.padding,g,k,p=[],n,t,m,l,y,w=0,z,C,x;y=b.componentPool.getChart();var E=[];if(c&&!d)return c.isImpure=!0,c;c=b.colorRange;b=b.smartLabel;d=c.getCumulativeValueRatio();g=c.colorRange;c=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}};l=c.node.smartTexts;n=B(a,{});n=this.getEffectivePlotArea(n);
b.useEllipsesOnOverflow(y.config.useEllipsesWhenOverflow);f=B(f.style,{});A(this._metaStyle=f);b.setStyle(f);y=b.getSmartText("W");k=0;for(f=g.length;k<f;k++)(t=g[k].label)?(w++,E.push({oriIndex:k,label:t})):l[k]=void 0;f=E.length;if(0===f)return{height:0,width:0};t=m=1<f?(d[E[f-1].oriIndex]-d[E[0].oriIndex])/2*n.height/100:Math.max(d[E[0].oriIndex],100-d[E[0].oriIndex])/2*n.height/100;w=b.getSmartText(E[0].label,t,n.width);w.y=d[E[0].oriIndex]*n.height/100;k=w.y+w.width;p.push(w.height);l[E[0].oriIndex]=
w;w=b.getSmartText(E[f-1].label,t,n.width);w.y=d[E[f-1].oriIndex]*n.height/100;g=w.y-w.width;p.push(w.height);l[E[f-1].oriIndex]=w;C=k;for(k=1;k<f-1;k++)t=E[k].label,x=E[k].oriIndex,w=void 0,m=k+1===f-1?g:d[E[k+1].oriIndex]*n.height/100,z=d[E[k].oriIndex]*n.height/100,m=Math.min(z-C,m-z),m>2*y.width&&(w=b.getSmartText(t,m,n.width),w.y=d[x]*n.height/100,C=m,p.push(w.height)),l[E[k].oriIndex]=w;p=Math.max.apply(Math,p);n.width=p;a.width=p+2*e.v;c.node.logicArea=n;return c.bound=a};ba.prototype.draw=
function(){var a,b,d=this.conf;b=d.bound&&d.bound.style||{stroke:"none"};var c,f,e,g,k,p,n,t;2<=arguments.length?(f=arguments[0],g=arguments[1]):1<=arguments.length&&(g=arguments[0]);a=g.parentLayer;g.colorRange.getCumulativeValueRatio();c=g.componentPool;k=c.getKeys();this.getLogicalSpace(f,g);e=this._lSpace;f=e.node.logicArea;g=e.node.smartTexts;t=c.getComponent(this._id,k.KEY_GROUP);a=t("legend-labels",a);t=c.getComponent(this._id,k.KEY_RECT);this.bound=b=t(a).attr(e.bound).css(b);t=c.getComponent(this._id,
k.KEY_TEXT,!0);k=0;for(e=g.length;k<e;k++)if(c=g[k])p=f.x+c.height/2,n=k===e-1?f.y+c.y-c.width/2:k?f.y+c.y:f.y+c.y+c.width/2,this.node.push(t({},a).attr({text:c.text,x:p,y:n,lineHeight:this._metaStyle.lineHeight,fill:d.style.fill}).transform("R270,"+p+","+n));return{group:a,bound:b,node:this.node}};S.prototype=Object.create(R.prototype);S.prototype.constructor=S;S.prototype.getLogicalSpace=function(a,b,d){var c=this._lSpace,f=this.conf,e=f.padding,g=b.componentPool.getChart(),k,p,n,t,m,l,y=[],w,z,
C,x;if(c&&!d)return c.isImpure=!0,c;c=b.colorRange;b=b.smartLabel;d=c.colorRange;n=c.getCumulativeValueRatio();c=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}};x=c.node.smartTexts;z=B(a,{});z.height-=2*e.v;z.width-=2*e.h;z.x+=e.h;z.y+=e.v;b.useEllipsesOnOverflow(g.config.useEllipsesWhenOverflow);f=B(f.style,{});A(this._metaStyle=f);b.setStyle(f);g=b.getSmartText("W");f=d.length;l=(n[f-1]-n[0])/2*z.width/100;k=d[0].displayValue;k=b.getSmartText("string"!==typeof k&&void 0!==
k&&k.toString()||k,l,z.height);k.x=n[0]*z.width/100;p=k.x+k.width;y.push(k.height);x[0]=k;k=b.getSmartText(d[f-1].displayValue,l,z.height);k.x=n[f-1]*z.width/100;l=k.x-k.width;y.push(k.height);x[f-1]=k;w=p;for(p=1;p<f-1;p++)k=void 0,C=d[p].displayValue,t=p+1===f-1?l:n[p+1]*z.width/100,m=n[p]*z.width/100,t=Math.min(m-w,t-m),t>1.5*g.width&&(k=b.getSmartText(C,2*t,z.height),k.x=n[p]*z.width/100,w=t,y.push(k.height)),x[p]=k;y=Math.max.apply(Math,y);z.height=y;a.height=y+2*e.v;c.node.logicArea=z;return c.bound=
a};S.prototype.draw=function(){var a=this.conf,b=a.bound&&a.bound.style||{stroke:"none"},d,c,f,e,g,k,p,n,t;2<=arguments.length?(g=arguments[0],p=arguments[1]):1<=arguments.length&&(p=arguments[0]);e=p.parentLayer;c=p.colorRange.getCumulativeValueRatio();f=p.componentPool;d=f.getKeys();this.getLogicalSpace(g,p);k=this._lSpace;g=k.node.logicArea;p=k.node.smartTexts;t=f.getComponent(this._id,d.KEY_GROUP);e=t("legend-values",e);t=f.getComponent(this._id,d.KEY_RECT);this.bound=b=t(e).attr(k.bound).css(b);
t=f.getComponent(this._id,d.KEY_TEXT,!0);d=0;for(k=c.length;d<k;d++)if(n=p[d])c=g.y+n.height/2,f=d===k-1?g.x+n.x-n.width/2:d?g.x+n.x:g.x+n.x+n.width/2,t({},e).attr({text:n.text,x:f,y:c,lineHeight:this._metaStyle.lineHeight,fill:a.style.fill});return{group:e,bound:b}};ca.prototype=Object.create(S.prototype);ca.prototype.constructor=ca;ca.prototype.getLogicalSpace=function(a,b,d){var c=this._lSpace,f=this.conf,e=f.padding,g=b.componentPool.getChart(),k,p,n,t,m,l,y=[],w,z,C,x;if(c&&!d)return c.isImpure=
!0,c;c=b.colorRange;b=b.smartLabel;d=c.colorRange;p=c.getCumulativeValueRatio();c=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}};x=c.node.smartTexts;m=B(a,{});m.height-=2*e.v;m.width-=2*e.h;m.x+=e.h;m.y+=e.v;b.useEllipsesOnOverflow(g.config.useEllipsesWhenOverflow);f=B(f.style,{});A(f);b.setStyle(this._metaStyle=f);C=b.getSmartText("W");g=d.length;l=(p[g-1]-p[0])/2*m.height/100;f=b.getSmartText(d[0].displayValue,m.width,l);f.y=p[0]*m.height/100;k=f.y+f.width;y.push(f.width);
x[0]=f;f=b.getSmartText(d[g-1].displayValue,m.width,l);f.y=p[g-1]*m.height/100;l=f.y-f.height;y.push(f.width);x[g-1]=f;w=k;for(k=1;k<g-1;k++)f=void 0,z=d[k].displayValue,n=k+1===g-1?l:p[k+1]*m.height/100,t=p[k]*m.height/100,n=Math.min(t-w,n-t),n>2*C.height&&(f=b.getSmartText(z,m.width,2*n),f.y=p[k]*m.height/100,w=n,y.push(f.width)),x[k]=f;y=Math.max.apply(Math,y);m.width=y;a.width=y+2*e.h;c.node.logicArea=m;return c.bound=a};ca.prototype.draw=function(){var a,b,d=this.conf;b=d.bound&&d.bound.style||
{stroke:"none"};var c,f,e,g,k,p,n,m;2<=arguments.length?(c=arguments[0],e=arguments[1]):1<=arguments.length&&(e=arguments[0]);a=e.parentLayer;g=e.colorRange.getCumulativeValueRatio();k=e.componentPool;p=k.getKeys();this.getLogicalSpace(c,e);f=this._lSpace;c=f.node.logicArea;e=f.node.smartTexts;m=k.getComponent(this._id,p.KEY_GROUP);a=m("legend-values",a);m=k.getComponent(this._id,p.KEY_RECT);this.bound=b=m(a).attr(f.bound).css(b);m=k.getComponent(this._id,p.KEY_TEXT,!0);k=0;for(p=g.length;k<p;k++)if(g=
e[k])f=c.x+g.width/2,n=k===p-1?c.y+g.y-g.height/2:k?c.y+g.y:c.y+g.y+g.height/2,m({},a).attr({text:g.text,x:f,y:n,lineHeight:this._metaStyle.lineHeight,fill:d.style.fill});return{group:a,bound:b}};I.prototype.constructor=I;I.prototype.addCompositions=function(a,b){this.compositionsByCategory[b]=a};I.prototype.getLogicalSpace=function(a,b,d){b=this._lSpace;var c=this.conf,f=c.padding,e,g;g=c.legendAxisHeight;var k=this.compositionsByCategory,p;p=0;if(b&&!d)return b.isImpure=!0,b;b=this._lSpace={bound:{height:0,
width:0},node:{logicArea:void 0}};d=B(a,{});d.height-=2*f.v;d.width-=2*f.h;d.x+=f.h;d.y+=f.v;c=g/2+c.line.offset;e=g/2;if(k=k.RANGE)p=k.sliders[!1],p=p.conf.outerCircle.rFactor*g,e+=p=Math.max(p/2-g/2,0);d.y+=p;d.height=g=e+c+p;a.height=g+2*f.v;b.node.logicArea=d;return b.bound=a};I.prototype.getDrawableAxisArea=function(a){var b=this.conf;return{x:a.x,y:a.y,width:a.width,height:b.legendAxisHeight,r:b.legendAxisHeight/2}};I.prototype.preDrawingRangeParam=function(a){return{y:a.y+a.height/2,calculationBase:a.height,
rangeStart:a.x,rangeEnd:a.x+a.width,prop:"y"}};I.prototype.getScaleMarkerPathStr=function(a,b){var d=B(a,{}),c=this.conf.line,f,e,g,k,p="";d.x+=d.r;d.width-=2*d.r;k=d.y+d.height;f=0;for(e=b.length;f<e;f++)g=b[f],g=d.x+g*d.width/100,p+="M"+g+","+(k-c.grooveLength)+"L"+g+","+(k+c.offset);d=""+("M"+d.x+","+(k+c.offset)+"L"+(d.x+d.width)+","+(k+c.offset));return p+d};I.prototype.getColorGradient=function(a){return{axis:a.getBoxFill(),shadow:ea({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",
ratio:"0,30,40"}})}};I.prototype.draw=function(){var a,b=this.conf,d=b.line,c=(b.bound||{}).style||{},f,e,g=this.compositionsByCategory,k,p,n,m,l,F;2<=arguments.length?(f=arguments[0],l=arguments[1]):1<=arguments.length&&(l=arguments[0]);a=l.parentLayer;k=l.colorRange;p=k.getCumulativeValueRatio();F=l.componentPool;n=F.getKeys();this.getLogicalSpace(f,l);m=this._lSpace;f=F.getComponent(this._id,n.KEY_GROUP);a=f("legend-axis",a);f=F.getComponent(this._id,n.KEY_RECT,!0);this.bound=f(a).attr(m.bound).css(c);
c=this.getDrawableAxisArea(m.node.logicArea);k=this.getColorGradient(k);b.style.fill=k.axis;b.shadow.style.fill=k.shadow;this.node=f(a).attr(c).css(b.style);this.shadow=f(a).attr(c).css(b.shadow.style);b=this.getScaleMarkerPathStr(c,p);f=F.getComponent(this._id,n.KEY_PATH);f("M0,0",a).attr({path:b}).css(d.style);for(e in g)switch(d=g[e],e){case "RANGE":n=this.preDrawingRangeParam(c),l[n.prop]=n[n.prop],l.key=n.prop,l.rCalcBase=n.calculationBase,l.parentLayer=a,d.draw(n.rangeStart,n.rangeEnd,l)}};
V.prototype=Object.create(I.prototype);V.prototype.constructor=V;V.prototype.getLogicalSpace=function(a,b,d){b=this._lSpace;var c=this.conf,f=c.padding,e,g;g=c.legendAxisHeight;var k=this.compositionsByCategory,p;p=0;if(b&&!d)return b.isImpure=!0,b;b=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}};d=B(a,{});d.height-=2*f.v;d.width-=2*f.h;d.x+=f.h;d.y+=f.v;c=g/2+c.line.offset;e=g/2;if(k=k.RANGE)p=k.sliders[!1],p=p.conf.outerCircle.rFactor*g,e+=p=Math.max(p/2-g/2,0);d.x+=p;d.width=g=
e+c+p;a.width=g+2*f.v;b.node.logicArea=d;return b.bound=a};V.prototype.getDrawableAxisArea=function(a){var b=this.conf;return{x:a.x,y:a.y,width:b.legendAxisHeight,height:a.height,r:b.legendAxisHeight/2}};V.prototype.getScaleMarkerPathStr=function(a,b){var d=B(a,{}),c=this.conf.line,f,e,g,k,p="";d.y+=d.r;d.height-=2*d.r;k=d.x+d.width;f=0;for(g=b.length;f<g;f++)e=b[f],e=d.y+e*d.height/100,p+="M"+(k-c.grooveLength)+","+e+"L"+(k+c.offset)+","+e;d=""+("M"+(k+c.offset)+","+d.y+"L"+(k+c.offset)+","+(d.y+
d.height));return p+d};V.prototype.getColorGradient=function(a){return{axis:a.getBoxFill(!0),shadow:ea({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}};V.prototype.preDrawingRangeParam=function(a){return{x:a.x+a.width/2,calculationBase:a.width,rangeStart:a.y,rangeEnd:a.y+a.height,prop:"x"}};J.prototype.constructor=J;J.prototype.initRange=function(a,b){this.extremes[+a.sliderIndex]=b};J.prototype.updateRange=function(a,b){var d=a.sliderIndex;this.sliders[!d].updateSwingRange(d,
b)};J.prototype.reset=function(){var a={};a.conf=this.conf;a.sliderGroup=this;this.sliders[!1]=new K(!1,a,this._id+"_0");this.sliders[!0]=new K(!0,a,this._id+"_1");this.draw.apply(this,this._drawParams)};J.prototype.clearListeners=function(){this.callbacks.length=0};J.prototype.draw=function(a,b,d){var c=this.sliders,f=c[!1],c=c[!0],e=d.colorRange,g=e.colorRange,k=this._fcChart=d.componentPool.getChart();this.getValueFormPixel=function(a,b,d,c){var f=(b-a)/(c-d);this.getValueFormPixel=function(b){return a+
f*b}};this.updateWhenInMove=function(a,b){this.updateWhenInMove=function(d,c){var f=this.extremes,f=this.getValueFormPixel(d.sliderIndex?f[1]-f[0]+c:c);return f=b?parseFloat(f).toFixed(2)+"%":a.legendValue(f)}};this._drawParams=[a,b,d];this.updateWhenInMove(k.components.numberFormatter,e.mapByPercent);a=f.draw(a,g[0].displayValue,d[d.key],d);a=c.draw(b,g[g.length-1].displayValue,d[d.key],d);f.swing=this.extremes.slice(0);c.swing=this.extremes.slice(0);this.getValueFormPixel(g[0].value,g[g.length-
1].value,this.extremes[0],this.extremes[1]);return a};J.prototype.registerListener=function(a,b,d){this.callbacks.push({fn:a,context:b,params:d||[]})};J.prototype.updateWhenInRest=function(a,b){var d=this.sliders,c=this.extremes,f=a.sliderIndex,e,g=this.callbacks,k,p;f?(e=d[!f].currPos,d=c[1]-c[0]+b):(e=b,d=c[1]-c[0]+d[!f].currPos);c=0;for(f=g.length;c<f;c++)k=g[c],p=k.params.slice(0),p.unshift(this.getValueFormPixel(d)),p.unshift(this.getValueFormPixel(e)),k.fn.apply(k.context,p)};J.prototype.dragStarted=
function(a){var b=this.sliders,d=this.extremes,c=a.conf,f=this._fcChart;T.raiseEvent("legendpointerdragstart",{pointerIndex:+a.sliderIndex,pointers:[{value:this.getValueFormPixel(b[!1].currPos)},{value:this.getValueFormPixel(d[1]-d[0]+b[!0].currPos)}],legendPointerHeight:c.outerRadius,legendPointerWidth:c.innerRadius,outerRadius:c.outerRadius,innerRadius:c.innerRadius},f.chartInstance,[f.id])};J.prototype.dragCompleted=function(a,b,d){var c=this.sliders,f=this.extremes,e=a.conf,g=this.getValueFormPixel(c[!1].currPos),
c=this.getValueFormPixel(f[1]-f[0]+c[!0].currPos),k=this._fcChart,p;a.sliderIndex?(p=g,d=this.getValueFormPixel(f[1]-f[0]+d)):(p=this.getValueFormPixel(d),d=c);b&&T.raiseEvent("legendrangeupdated",{previousMinValue:g,previousMaxValue:c,minValue:p,maxValue:d},k.chartInstance,[k.id]);T.raiseEvent("legendpointerdragstop",{pointerIndex:+a.sliderIndex,pointers:[{value:g},{value:c}],legendPointerHeight:e.outerRadius,legendPointerWidth:e.innerRadius,outerRadius:e.outerRadius,innerRadius:e.innerRadius},k.chartInstance,
[k.id])};K.prototype.constructor=K;K.prototype.updateSwingRange=function(a,b){this.swing[+a]=b};K.prototype.draw=function(a,b,d,c){var f=c.parentLayer,e=this.conf,g=e.outerCircle,k=e.innerCircle,p=Math.ceil(g.rFactor*c.rCalcBase/2),n=Math.ceil(k.rFactor*c.rCalcBase/2),m=p-n,l=this.rangeGroup,F=this.sliderIndex,y,w,z=c.componentPool,x=z.getKeys();e.outerRadius=p;e.innerRadius=n;this._scaleVal=b;k.style["stroke-width"]=m;m=Math.ceil(g.style["stroke-width"]/2);n+=m;w=z.getComponent(this._id,x.KEY_GROUP);
f=this.node=w("fc-gl-slider",f).attr({cursor:"pointer",transform:"t0,0"});"x"===c.key?a=y=a+(F?-n:+n):(y=d,a=d=a+(F?-n:+n));l.initRange(this,a);w=z.getComponent(this._id,x.KEY_CIRCLE,!0);w(f).attr({cx:d,cy:y,r:p}).css(g.style);w(f).attr({cx:d,cy:y,r:n}).css(k.style);b=this.tracker=w(f).attr({cx:d,cy:y,r:p+5,ishot:!0,fill:fa,stroke:0,cursor:"pointer"}).trackTooltip(e.showTooltip?!0:!1).tooltip(b,null,null,!0);this._dragAPI=c=this.getDragAPI("x"===c.key);b.undrag();b.drag(c.dragging,c.dragStart,c.dragEnd);
return{translateAscending:p+m}};K.prototype.getDragAPI=function(a){var b=this,c=b.node,e=b.sliderIndex,f=b.rangeGroup,g,m,k,p=b.conf.innerRadius,n;return{dragging:function(l,D,F,y,w){var z;w.stopPropagation();w.preventDefault();z=a?D:l;e?(l=g[0]-g[1]+p,D=0):(l=0,D=g[1]-g[0]-p);if(!(b.currPos+z<l||b.currPos+z>D))return c.attr({transform:a?"t0,"+(b.currPos+z):"t"+(b.currPos+z)+",0"}),m=z,k&&clearTimeout(k),k=setTimeout(function(){f.updateWhenInRest(b,b.currPos+z)},100),b.tracker.tooltip(f.updateWhenInMove(b,
b.currPos+z),null,null,!0),n=!0},dragStart:function(e,k,r){r.stopPropagation();r.preventDefault();c.attr({transform:a?"t0,"+b.currPos:"t"+b.currPos+",0"});g=g||b.swing;n=!1;f.dragStarted(b)},dragEnd:function(){var a;f.dragCompleted(b,n,b.currPos+m);n&&(k&&clearTimeout(k),k=setTimeout(function(){f.updateWhenInRest(b,b.currPos)},100),b.currPos+=m,a=g[+e]+b.currPos,f.updateRange(b,a))}}};X.prototype.constructor=X;X.prototype.getValueRatio=function(){var a=this.colorRange,b,c,e=a.length,f=this.valueRatio,
g=a[0].value,m=a[e-1].value-g,k=0;if(f)return f;f=this.valueRatio=[];for(c=0;c<e;c++)b=a[c],b=(b.value-g)/m,f.push(100*(b-k)),k=b;return f};X.prototype.getCumulativeValueRatio=function(){var a=this.colorRange,b,c,e=a.length,f=a[0].value,g=a[e-1].value,m=[];for(c=0;c<e;c++)b=a[c],m.push((b.value-f)/(g-f)*100);return m};X.prototype.getBoxFill=function(a){var b=this.colorRange,c,e=b.length,f=[],g;g=a?90:0;for(c=0;c<e;c++)a=b[c],f.push(a.code);b={FCcolor:{alpha:"100,100,100",angle:g,color:f.join(","),
ratio:this.getValueRatio().join(",")}};return ea(b)};X.prototype.getColorByValue=function(a){var b=this.values,c=this.colorRange,e,f,g,m;if(void 0!==a&&null!==a){f=0;for(e=b.length;f<e;f++)if(a===b[f]){m=c[f].code;break}else if(!f&&a<b[f]){g=!0;break}else if(f===e-1&&a>b[f]){g=!0;break}else if(a>b[f]&&a<b[f+1]){b=c[f];e=c[f+1];c=b.value;f=ha(b.code);b=e.value;e=ha(e.code);m=m=void 0;m=b-c;m=[Math.round(f[0]+(e[0]-f[0])/m*(a-c)),Math.round(f[1]+(e[1]-f[1])/m*(a-c)),Math.round(f[2]+(e[2]-f[2])/m*(a-
c))];m=aa(m);break}if(!g)return m}};Z.prototype=Object.create(l.prototype);Z.prototype.constructor=Z;P.register("component",["gradientLegend","gradientLegend",{pIndex:1,enabled:!1,init:function(a){function c(f){d.data=a.chart.jsonData.colorrange;(l=d.nData=b.legacyDataParser(d.data,f))?(d.drawOptions={smartLabel:g.linkedItems.smartLabel,colorRange:d.colorRange=m=new X(l,f,k),maxOtherSide:f.maxOtherSide},d._dontPlot=!1,m&&m._preparationGoneWrong&&(d._dontPlot=!0),d._recalculateLogicalSpace=!0,d._configure()):
d._dontPlot=!0}var d=this,g=a.chart,f,m,l,k;b.init(a);k=d._chart=a.chart;d._cpool=e(k);if(!(f=a.dataExtremes))return c;c(f)},_configure:function(){var a=this._chart,b=a.jsonData.chart,c=this.conf={},e=b.outcnvbasefont,f=b.outcnvbasefontsize,g=b.outcnvbasefontcolor,a=a.config.dataLabelStyle,m,k,p,n,l,D,F;c.caption=H(b.legendcaption);c.legendPosition=H(b.legendposition,"bottom").toLowerCase();c.showLegend=x(b.showlegend,1);c.interactiveLegend=x(b.interactivelegend,1);c.showLegendLabels=x(b.showlegendlabels,
1);m=b.legenditemfontcolor||g;k=b.legenditemfont||e;p=b.legenditemfontsize||f;n=x(b.legenditemfontbold,0);g=b.legendcaptionfontcolor||g;e=b.legendcaptionfont||e;f=b.legendcaptionfontsize||f;l=x(b.legendcaptionfontbold,1);F=(D=b.legendaxisbordercolor?U(ga(b.legendaxisbordercolor)):void 0)?x(b.legendaxisborderalpha,100)/100:void 0;c.axisTextItemConf={style:{fill:m?Y(H(m)):a.color,fontFamily:k?H(k):a.fontFamily,fontSize:p?x(p):a.fontSize.match(/\d+/)[0],fontWeight:n?"bold":a.fontWeight}};c.legendCaptionConf=
{style:{fill:g?Y(H(g)):a.color,fontFamily:e?H(e):a.fontFamily,fontSize:f?x(f):a.fontSize.match(/\d+/)[0],fontWeight:l?"bold":a.fontWeight,fontStyle:"normal"}};c.legendAxisConf={legendAxisHeight:11,style:{stroke:D,"stroke-opacity":F},line:{style:{stroke:Y(H(b.legendscalelinecolor,"FFF8E9"),x(b.legendscalelinealpha,100)),"stroke-width":x(b.legendscalelinethickness)}}};c.sliderGroupConf={showTooltip:x(b.showtooltip,1),outerCircle:{rFactor:x(b.sliderdiameterfactor),style:{stroke:Y(H(b.legendpointerbordercolor,
"757575"),x(b.legendpointerborderalpha,100))}},innerCircle:{rFactor:x(b.sliderholediameterfactor),style:{stroke:Y(H(b.legendpointercolor,"FFFFFF"),x(b.legendpointeralpha,100))}}};c.legendCarpetConf={spreadFactor:x(b.legendspreadfactor),allowDrag:!!x(b.legendallowdrag,0),captionAlignment:H(b.legendcaptionalignment,"center"),style:{fill:Y(H(b.legendbgcolor,"e4d9c1"),x(b.legendbgalpha,100)),stroke:Y(H(b.legendbordercolor,"c4b89d"),x(b.legendborderalpha,100)),"stroke-width":x(b.legendborderthickness,
1)}}},postConfigureInit:function(){var a=this.conf,c,d,e,f,g,l,k;this.elem={};a.caption&&(d=B(b.getDefaultConf("legendCaptionConf"),a.legendCaptionConf),c=new N(a.caption,d));a.interactiveLegend&&(d=B(b.getDefaultConf("sliderGroupConf"),a.sliderGroupConf),this.elem.sGroup=f=new J(d),this.listeners&&0<this.listeners.length&&f.registerListener.apply(f,this.listeners));d=B(b.getDefaultConf("legendCarpetConf"),a.legendCarpetConf);"bottom"===a.legendPosition?(this.drawOptions.refSideKey="canvasWidth",
this.drawOptions.refOffsetKey="canvasLeft",d=new M(d),g=B(b.getDefaultConf("axisTextItemConf"),a.axisTextItemConf),l=new m(this.drawOptions.colorRange,b.getDefaultConf("legendBodyConf"),g),e=new I(B(b.getDefaultConf("legendAxisConf"),a.legendAxisConf)),a.showLegendLabels&&(k=new R(g)),a=new S(g)):(this.drawOptions.refSideKey="canvasHeight",this.drawOptions.refOffsetKey="canvasTop",g=B(b.getDefaultConf("axisTextItemConf"),a.axisTextItemConf),d=new G(d),l=new W(this.drawOptions.colorRange,b.getDefaultConf("legendBodyConf"),
g),e=new V(B(b.getDefaultConf("legendAxisConf"),a.legendAxisConf)),a.showLegendLabels&&(k=new ba(g)),a=new ca(g));f&&e.addCompositions(f,"RANGE");k&&l.addCompositions(k,"LEGEND_LABEL");l.addCompositions(e,"LEGEND_AXIS");l.addCompositions(a,"AXIS_VALUE");c&&d.addCompositions(c,"CAPTION");d.addCompositions(l,"LEGEND_BODY");this.elem.gl=new Z(d,this._cpool)},notifyWhenUpdate:function(a,b,c){var e;(e=this.elem&&this.elem.sGroup)?e.registerListener(a,b,c):this.listeners=[a,b,c]},dispose:function(){this.elem&&
this.elem.gl&&this.elem.gl.dispose();this.elem={}},getLogicalSpace:function(a){var b=this.conf,c={height:0,width:0},e=this.drawOptions,f=this._chart;if(!this._recalculateLogicalSpace)return b=e.refSideKey,e=e.refOffsetKey,this.drawOptions.refSide=f.config[b],this.drawOptions.refOffset=f.config[e],(this._logicalArea=this.elem.gl.getLogicalSpace(this.drawOptions,!0))||c;if(this._dontPlot)return c;this._recalculateLogicalSpace=!1;this.postConfigureInit();if(!b.showLegend)return c;b=e.refSideKey;e=e.refOffsetKey;
this.drawOptions.refSide=f.config[b];this.drawOptions.refOffset=f.config[e];this.drawOptions.maxOtherSide=a||this.drawOptions.maxOtherSide;return this.elem.gl&&(this._logicalArea=this.elem.gl.getLogicalSpace(this.drawOptions,!0))},resetLegend:function(){var a;(a=this.elem&&this.elem.sGroup)&&a.reset()},clearListeners:function(){var a;(a=this.elem&&this.elem.sGroup)&&a.clearListeners()},draw:function(a,b,c){var e=this.conf;this._dontPlot||(this._cpool.init(c.paper),e.showLegend?(this.drawOptions.paper=
c.paper,this.drawOptions.parentGroup=c.parentGroup,this.drawOptions.x=a,this.drawOptions.y=b,this.drawOptions.maxOtherSide=this.drawOptions.maxOtherSide||c.maxOtherSide,a=this.elem.gl.draw(this.drawOptions),a=a.getBBox(),e.xPos=a.x,e.yPos=a.y,e.height=a.height,e.width=a.width,this.enabled=!0):this.enabled=!1)}}])}]);P.register("module",["private","modules.renderer.js-maps",function(){var B=this,Q=B.window,A=B.hcLib,L=A.chartAPI,l=A.pluck,M=A.imprint,G=A.extend2,N=A.parseTooltext,m=A.pluckNumber,W=
A.graphics.getLightColor,R=A.dropHash,ba=A.HASHSTRING,S=A.parseUnsafeString,ca=A.getDashStyle,I=A.schedular,V=G(A.defaultPaletteOptions,{foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",
backgrounddarkangle:270,backgrounddarkratio:"",shadow:1}),J=A.setLineHeight,K=A.graphics.convertColor,X=Q.navigator.userAgent,Z=/msie/i.test(X)&&!Q.opera,T=A.hasSVG,O=Q.Math,x=O.min,H=O.max,ea=/stroke/ig,da=/AppleWebKit/.test(X),ga=O.ceil,Q=!/fusioncharts\.com$/i.test(Q.location.hostname),U=A.toRaphaelColor,Y=function(b,a){var c;b||(b={});for(c in a)b[c]=a[c];return b},aa=function(b,a){var c=a?Y(b.FCcolor,a):{FCcolor:b};c.toString=U;return c},ha=function(b,a){var c,e;this.index=a;for(e in b)c=V[b[e]],
this[e]=c instanceof Array?c[a]:c},ja={right:function(b,a){return a},left:function(b,a){return b-a},center:function(b,a){return 2*x(a,b-a)}},ia={top:function(b,a){return a},middle:function(b,a){return 2*x(a,b-a)},bottom:function(b,a){return b-a}},fa=function(b,a){var c=b&&b.length||!1,e=a||"id",g={},q;if(!b)return b;for(;c--;)q=b[c],void 0!==q[e]&&(g[q[e].toLowerCase()]=q);return g};Y(A.eventList,{entityrollover:"FC_Event",entityrollout:"FC_Event"});L("geo",{name:"geo",friendlyName:"Map",revision:1,
creditLabel:Q,hasCanvas:!0,standaloneInit:!1,defaultDatasetType:"maps",baseWidth:400,baseHeight:300,baseScaleFactor:1,defaultSeriesType:"geo",fireGroupEvent:!0,legendposition:"right",hasGradientLegend:!0,isMap:!0,entities:{},init:function(b,a,c,e){var g,q;q=a.chart=a.chart||a.graph||a.map||{};this.jsonData=a;g=this.components=this.components||(this.components={});g.mapAnnotations=g.mapAnnotations||(g.mapAnnotations=new A.Annotations);this.components.colorPalette=new ha(this.colorPaletteMap,(0<q.palette&&
6>q.palette?q.palette:m(this.paletteIndex,1))-1);q=P.register("component",["caption","MapCaption"]);g.caption||(g.caption=new q);L.mscartesian.init.call(this,b,a,c,e)},configure:function(){var b;b=this.jsonData;var a=b.chart||b.map,c=b.markers,e=new ha(this.colorPaletteMap,(0<a.palette&&6>a.palette?a.palette:m(this.paletteIndex,1))-1),g,q,h,d,r=l(a.entitybordercolor,a.bordercolor,e.plotbordercolor),f=l(a.entityfillcolor,a.fillcolor,e.plotfillcolor),u=l(a.entityfillalpha,a.fillalpha,e.plotfillalpha),
v=l(a.entityfillratio,a.fillratio,e.plotfillratio),k=l(a.entityfillangle,a.fillangle,e.plotfillangle),p=l(a.nullentityfillcolor,a.nullentitycolor,f),n=m(a.usevaluesformarkers,b.markers&&b.markers.items&&b.markers.items.length,!(b.markers&&b.markers.application&&b.markers.application.length&&b.markers.definition&&b.markers.definition.length));this.base.base.configure.call(this);b=this.config;b.origMarginTop=m(a.charttopmargin,a.maptopmargin,11);b.origMarginLeft=m(a.chartleftmargin,a.mapleftmargin,
11);b.origMarginBottom=m(a.chartbottommargin,a.mapbottommargin,11);b.origMarginRight=m(a.chartrightmargin,a.maprightmargin,11);d=b.style;g=d.inCancolor;q=d.inCanfontFamily;h=d.inCanfontSize;b.entityOpts={baseScaleFactor:this.baseScaleFactor,dataLabels:{style:{fontFamily:q,fontSize:h,lineHeight:d.inCanLineHeight,color:d.inCancolor}},fillColor:f,fillAlpha:u,fillRatio:v,fillAngle:k,borderColor:r,borderAlpha:l(a.entityborderalpha,a.borderalpha,this.borderAlpha,"100"),borderThickness:m(a.showentityborder,
a.showborder,1)?m(a.entityborderthickness,a.borderthickness,1):0,scaleBorder:m(a.scaleentityborder,a.scaleborder,0),hoverFillColor:l(a.entityfillhovercolor,a.hoverfillcolor,a.hovercolor,e.plothoverfillcolor),hoverFillAlpha:l(a.entityfillhoveralpha,a.hoverfillalpha,a.hoveralpha,e.plothoverfillalpha),hoverFillRatio:l(a.entityfillhoverratio,a.hoverfillratio,a.hoverratio,e.plothoverfillratio),hoverFillAngle:l(a.entityfillhoverangle,a.hoverfillangle,a.hoverangle,e.plothoverfillangle),hoverBorderThickness:l(a.entityborderhoverthickness,
a.hoverborderthickness),hoverBorderColor:l(a.entityborderhovercolor,e.plotbordercolor),hoverBorderAlpha:l(a.entityborderhoveralpha,e.plotborderalpha),nullEntityColor:p,nullEntityAlpha:l(a.nullentityfillalpha,a.nullentityalpha,u),nullEntityRatio:l(a.nullentityfillratio,a.nullentityratio,v),nullEntityAngle:l(a.nullentityfillangle,a.nullentityangle,k),connectorColor:l(a.labelconnectorcolor,a.connectorcolor,g),connectorAlpha:l(a.labelconnectoralpha,a.connectoralpha,"100"),connectorThickness:m(a.labelconnectorthickness,
a.borderthickness,1),showHoverEffect:m(a.showentityhovereffect,a.usehovercolor,a.showhovereffect,1),hoverOnNull:m(a.hoveronnull,a.entityhoveronnull,1),labelPadding:m(a.labelpadding,5),showLabels:m(a.showlabels,1),labelsOnTop:m(a.entitylabelsontop,1),includeNameInLabels:m(a.includenameinlabels,1),includeValueInLabels:m(a.includevalueinlabels,0),useSNameInTooltip:m(a.usesnameintooltip,0),useShortName:m(a.usesnameinlabels,1),labelSepChar:l(a.labelsepchar,", "),showTooltip:m(a.showentitytooltip,a.showtooltip,
1),tooltipSepChar:l(a.tooltipsepchar,", "),tooltext:a.entitytooltext,hideNullEntities:m(a.hidenullentities,0),showHiddenEntityBorder:m(a.showhiddenentityborder,1),showNullEntityBorder:m(a.shownullentityborder,1),hiddenEntityColor:l(a.hiddenentitycolor,a.hiddenentityfillcolor,a.hiddenentityalpha||a.hiddenentityfillalpha?p:"ffffff"),hiddenEntityAlpha:l(a.hiddenentityalpha,a.hiddenentityfillalpha,.001),shadow:m(a.showshadow,this.defaultPlotShadow,e.shadow)};b.markerOpts={dataLabels:{style:{fontFamily:l(a.markerfont,
q),fontSize:m(a.markerfontsize,parseInt(h,10)),fontColor:l(a.markerfontcolor,g)}},showTooltip:m(a.showmarkertooltip,a.showtooltip,1),showLabels:m(a.showmarkerlabels,a.showlabels,1),showHoverEffect:m(a.showmarkerhovereffect,1),labelPadding:l(a.markerlabelpadding,"5"),labelWrapWidth:m(a.markerlabelwrapwidth,0),labelWrapHeight:m(a.markerlabelwrapheight,0),fillColor:l(a.markerfillcolor,a.markerbgcolor,e.markerfillcolor),fillAlpha:l(a.markerfillalpha,e.markerfillalpha),fillAngle:l(a.markerfillangle,e.markerfillangle),
fillRatio:l(a.markerfillratio,e.markerfillratio),fillPattern:l(a.markerfillpattern,e.markerbgpattern),hoverFillColor:a.markerfillhovercolor,hoverFillAlpha:a.markerfillhoveralpha,hoverFillRatio:a.markerfillhoverratio,hoverFillAngle:a.markerfillhoverangle,borderThickness:l(a.markerborderthickness,1),borderColor:l(a.markerbordercolor,e.markerbordercolor),borderAlpha:m(a.markerborderalpha,e.markerborderalpha),hoverBorderThickness:a.markerborderhoverthickness,hoverBorderColor:a.markerborderhovercolor,
hoverBorderAlpha:a.markerborderhoveralpha,radius:m(a.markerradius&&A.trimString(a.markerradius),7),shapeId:l(a.defaultmarkershape,"circle"),labelSepChar:l(a.labelsepchar,", "),tooltipSepChar:l(a.tooltipsepchar,", "),autoScale:m(a.autoscalemarkers,0),tooltext:l(c&&c.tooltext,a.markertooltext),dataEnabled:n,valueToRadius:m(a.markerradiusfromvalue,1),valueMarkerAlpha:l(a.valuemarkeralpha,"75"),hideNull:m(a.hidenullmarkers,0),nullRadius:m(a.nullmarkerradius,a.markerradius,7),adjustViewPort:m(a.adjustviewportformarkers,
0),startAngle:m(a.markerstartangle,90),maxRadius:m(a.maxmarkerradius,0),minRadius:m(a.minmarkerradius,0),applyAll:m(a.applyallmarkers,0),shadow:m(a.showmarkershadow,a.showshadow,0)};b.connectorOpts={showHoverEffect:m(a.showconnectorhovereffect,1),thickness:m(a.connectorthickness,a.markerconnthickness,"2"),color:l(a.connectorcolor,a.markerconncolor,e.markerbordercolor),alpha:l(a.connectoralpha,a.markerconnalpha,"100"),hoverThickness:m(a.connectorhoverthickness,a.connectorthickness,a.markerconnthickness,
"2"),hoverColor:l(a.connectorhovercolor,a.connectorcolor,a.markerconncolor,e.markerbordercolor),hoverAlpha:l(a.connectorhoveralpha,a.connectoralpha,a.markerconnalpha,"100"),dashed:m(a.connectordashed,a.markerconndashed,0),dashLen:m(a.connectordashlen,a.markerconndashlen,3),dashGap:m(a.connectordashgap,a.markerconndashgap,2),font:l(a.connectorfont,a.markerconnfont,q),fontColor:l(a.connectorfontcolor,a.markerconnfontcolor,g),fontSize:m(a.connectorfontsize,a.markerconnfontsize,parseInt(h,10)),showLabels:m(a.showconnectorlabels,
a.showmarkerlabels,a.showlabels,1),labelBgColor:l(a.connectorlabelbgcolor,a.markerconnlabelbgcolor,e.plotfillcolor),labelBorderColor:l(a.connectorlabelbordercolor,a.markerconnlabelbordercolor,e.markerbordercolor),shadow:m(a.showconnectorshadow,a.showmarkershadow,a.showshadow,0),showTooltip:m(a.showconnectortooltip,a.showmarkertooltip,a.showtooltip,1),tooltext:l(c&&c.connectortooltext,a.connectortooltext),hideOpen:m(a.hideopenconnectors,1)};b.adjustViewPortForMarkers=m(a.adjustviewportformarkers,n)},
_createLayers:function(){var b=this.graphics||(this.graphics={}),a=this.components.paper,b=this.graphics;b.backgroundGroup=b.backgroundGroup||a.group("background");b.canvasGroup=b.canvasGroup||a.group("canvas");b.shadowGroup=b.shadowGroup||a.group("shadow");b.datasetGroup=b.datasetGroup||a.group("dataset");b.datalabelsGroup=b.datalabelsGroup||a.group("datalabel");b.legendGroup=b.legendGroup||a.group("legend");b.captionGroup=b.captionGroup||a.group("caption");b.captionGroup.trackTooltip(!0);b.datasetGroup.trackTooltip(!0);
b.buttonGroup=b.buttonGroup||a.group("buttons")},_createDatasets:function(){var b=this.components,a=this.jsonData,c=this.defaultDatasetType,e=a.data||{},g=a.markers,a=0,q=this.components.dataset,q=b.dataset||(b.dataset=[]);c&&c.toLowerCase();if(c=P.get("component",["dataset","Entities"]))q[a]?(q[a].JSONData=e,q[a].configure()):(b=new c,q.push(b),b.chart=this,b.index=void 0,b.init(e)),a++;c=P.get("component",["dataset","Markers"]);b=q[a];c&&g?q[a]?(b.index=void 0,b.init(g),q[a].configure()):(b=new c,
q.push(b),b.chart=this,b.index=void 0,b.init(g)):(e=b&&b.type,"markers"===e&&q.splice(a,1))},_parseBackgroundCosmetics:function(){var b=this.components.background.config,a=this.components.colorPalette,c=this.jsonData.chart,e;e=b.showBorder=m(c.showcanvasborder,1);b.borderWidth=e=e?m(c.canvasborderthickness,1):0;b.borderRadius=b.borderRadius=m(c.canvasborderradius,0);b.borderDashStyle=b.borderDashStyle=m(c.borderdashed,0)?ca(m(c.borderdashlen,4),m(c.borderdashgap,2),e):"none";b.borderColor=b.borderColor=
K(l(c.canvasbordercolor,a&&a.borderColor));b.borderAlpha=l(c.canvasborderalpha,a.borderAlpha)},_getBackgroundCosmetics:function(){var b=this.jsonData.chart||this.jsonData.map,a=this.components.colorPalette;return{FCcolor:{color:l(b.bgcolor,b.canvasbgcolor,a.bgcolor),alpha:l(b.bgalpha,b.canvasbgalpha,a.bgalpha),angle:l(b.bgangle,b.canvasbgangle,a.bgangle),ratio:l(b.bgratio,b.canvasbgratio,a.bgratio)}}},_parseCanvasCosmetics:function(){var b=this.config,a=this.jsonData.chart||this.jsonData.map,c=this.components.canvas.config;
b.origMarginTop=m(a.maptopmargin,11);b.origMarginLeft=m(a.mapleftmargin,11);b.origMarginBottom=m(a.mapbottommargin,11);b.origMarginRight=m(a.maprightmargin,11);b.origCanvasLeftMargin=m(a.canvasleftmargin,0);b.origCanvasRightMargin=m(a.canvasrightmargin,0);b.origCanvasTopMargin=m(a.canvastopmargin,0);b.origCanvasBottomMargin=m(a.canvasbottommargin,0);c.canvasBorderRadius=m(a.canvasborderradius,0);c.origCanvasTopPad=m(a.canvastoppadding,0);c.origCanvasBottomPad=m(a.canvasbottompadding,0);c.origCanvasLeftPad=
m(a.canvasleftpadding,0);c.origCanvasRightPad=m(a.canvasrightpadding,0)},draw:function(){this.config.entitiesDrawn=!1;this.config.hasChartMessage?(this._hide(),this.drawChartMessage()):(this._show(),this._createToolBox(),this._manageSpace(),this._updateVisuals(),this.inited=!0,this.chartInstance.jsVars.drawCount+=1,this.chartInstance.__state.dataReady=!0,this.chartInstance.jsVars.hasNativeMessage=!1)},_drawDataset:function(){var b=this.chartInstance,a=this.components.dataset,c=this.graphics,e=a.length,
g=this.config.scalingParams;c.datasetGroup.hide();c.shadowGroup.hide();this.config.entitiesReady=!1;b.addEventListener("internal.mapdrawingcomplete",function(){return function(a){a.detachHandler();T&&(c.datasetGroup&&c.datasetGroup.attr({transform:g.transformStr}),c.shadowGroup&&c.shadowGroup.attr({transform:g.transformStr}));c.datasetGroup&&c.datasetGroup.show();c.shadowGroup&&c.shadowGroup.show()}}());for(b=0;b<e;b++)a[b].draw();this.checkComplete()},preliminaryScaling:function(){for(var b=this.jsonData,
a=(b=b.markers&&b.markers.items||[],b.length)||0,c=Infinity,e=Infinity,g=-Infinity,q=-Infinity,h,d;a--;)d=b[a],h=Number(d.x),d=Number(d.y),c=x(c,h),e=x(e,d),g=H(g,h),q=H(q,d);return{x:c,y:e,x1:g,y1:q}},getScalingParameters:function(b,a,c,e){var g=b/a,q=c/(b*this.baseScaleFactor),h=e/(a*this.baseScaleFactor),d=0,r=0;q>h?(q=h,d+=(c-e*g)/2,b=200/(a*q)):(r+=(e-c/g)/2,b=200/(b*q));return{scaleFactor:q,strokeWidth:b,translateX:d,translateY:r}},calculateMarkerBounds:function(b,a,c){var e=this.config,g=e.markerOpts,
q=this.components.dataset,h=this.getDataLimits(),d=h.dataMin,h=h.dataMax,r=g.hideNull,f=g.nullRadius,g=g.valueToRadius,m,l,k,p,n=Infinity,t=Infinity,D=-Infinity,F=-Infinity,y;k=0;for(p=q.length;k<p;k++)e=q[k],l=e.type,"markers"===l&&(m=e);if(m)for(k in m.calculateMarkerRadiusLimits(),l=m.conf||{},q=l.minRadius,l=l.maxRadius,m=m.components&&m.components.markerObjs||{},m)e=m[k],e=e.config,y=e.definition||{},null!==e.cleanValue?(g&&void 0===y.radius&&(e.radius=q+(l-q)*(e.cleanValue-d)/(h-d)),p=Number(e.radius),
e=(Number(y.x)+a)*b,y=(Number(y.y)+c)*b,n=x(n,e-p),t=x(t,y-p),D=H(D,e+p),F=H(F,y+p)):r?e.__hideMarker=!0:null===e.radius&&(e.radius=f);return{x:n,y:t,x1:D,y1:F}},_spaceManager:function(){var b=this.config,a=this.components.legend.config.legendPos,c=this.jsonData.chart,e=b.origMarginLeft,g=b.origMarginTop,q=this.baseWidth,h=this.baseHeight,d,r={},f=0,l=0,v,r=b.markerOpts,c=b.borderWidth=b.showBorder?m(c.borderthickness,1):0;this._allocateSpace({top:c,bottom:c,left:c,right:c});this._manageLegendSpace("right"===
a?.3*b.canvasWidth:.3*b.canvasHeight);a=this._manageChartMenuBar("bottom"===a?.225*b.canvasHeight:.225*b.canvasWidth);c=b.canvasWidth;d=b.canvasHeight;r.dataEnabled?(b.adjustViewPortForMarkers?(r=this.preliminaryScaling(),r.x1>q&&(q=r.x1),0>r.x&&(q+=-r.x,f=-r.x),r.y1>h&&(h=r.y1),0>r.y&&(h+=-r.y,l=-r.y),b=this.getScalingParameters(q,h,c,d),r=this.calculateMarkerBounds(b.scaleFactor*this.baseScaleFactor,f,l),b=d,v=c,0>r.x&&(e+=-r.x,c+=r.x),0>r.y&&(g+=-r.y,d+=r.y),r.x1>v&&(c-=r.x1-v),r.y1>b&&(d-=r.y1-
b)):(b=this.getScalingParameters(q,h,c,d),this.calculateMarkerBounds(b.scaleFactor*this.baseScaleFactor,f,l)),b=this.getScalingParameters(q,h,c,d),e+=f*b.scaleFactor*this.baseScaleFactor,g+=l*b.scaleFactor*this.baseScaleFactor):b=this.getScalingParameters(q,h,c,d);this.config.scalingParams=b;q=b.scaleFactor;b.translateX+=e;b.translateY=b.translateY+g+a.top||0;b.sFactor=q*this.baseScaleFactor*100/100;b.transformStr=["t",b.translateX,",",b.translateY,"s",q,",",q,",0,0"].join("");this.config.annotationConfig=
{id:"geo",showbelow:0,autoscale:0,grpxshift:b.translateX?b.translateX:0,grpyshift:b.translateY?b.translateY:0,xscale:100*(q?q*this.baseScaleFactor:1),yscale:100*(q?q*this.baseScaleFactor:1),options:{useTracker:!0}};this.components.mapAnnotations.reset(null,this.config.annotationConfig,this);this.components.mapAnnotations._renderer&&(this.components.mapAnnotations._renderer=null)},getDataLimits:function(){var b=this.components.dataset,a=b.length,c,e=Infinity,g=-Infinity,q;for(q=0;q<a;q++)c=b[q],c=
c.getDataLimits(),e=x(e,c.min),g=H(g,c.max);return{dataMin:e,dataMax:g}},getEntityPaths:function(b){var a={},c=this.entities,e;if(b){for(e in c)a[e]=c[e];return a}return c},checkComplete:function(){var b=this,a=b.getJobList(),c=b.components.mapAnnotations,e=b.components.mapLabelAnnotations||[],g=e.length,q,h,d=b.config.entityOpts.labelsOnTop,m,f,l=function(){b.config.labelDrawCount++;if(b.config.labelDrawCount===g&&d&&(m=c.groups&&c.groups[0]&&c.groups[0].wrapper))for(h=0;h<g;h++)(f=e[h].groups[0]&&
e[h].groups[0].wrapper)&&f.insertAfter(m)};b.config.labelDrawCount=0;if(b.config.entityFlag&&b.config.entitiesReady){b.config.entityFlag=!1;for(h=0;h<g;h++)q=e[h],a.labelDrawID.push(I.addJob(q.draw,q,[b,!0],A.priorityList.label,!0,l));c.draw(b);B.raiseEvent("internal.mapdrawingcomplete",{renderer:b},b.chartInstance)}},colorPaletteMap:{basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",
bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",
markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",
plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},eiMethods:{getMapName:function(){var b=this.jsVars.instanceAPI;return"string"===typeof b.name&&b.name.toLowerCase()},getEntityList:function(){var b=this.jsVars.instanceAPI.components.dataset||[],a,c,e,g=b.length,q=[],h;for(a=0;a<g;a++)if(e=b[a]||[],h=e.type,"entity"===h){c=e;break}b=c.components.data;for(a in b)b.hasOwnProperty(a)&&(c=b[a]||{},c=c.config||{},q.push({id:c.id,originalId:c.originalId||c.id,label:c.label,
shortlabel:c.shortLabel,value:c.value,formattedValue:c.formattedValue,toolText:c.toolText}));return q},getMapAttribute:function(){B.raiseWarning(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".');return this.getChartAttribute.apply(this,arguments)},exportMap:function(){B.raiseWarning(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".');return this.exportChart&&
this.exportChart.apply(this,arguments)},addMarker:function(b){var a=this.jsVars.instanceAPI.components.dataset||[],c=a.length,e,g,q,h;for(e=0;e<c;e++)if(g=a[e]||[],h=g.type,"markers"===h){q=g;break}q&&!q.addMarkerItem(b)&&B.raiseWarning(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(b,a){var c=this.jsVars.instanceAPI.components.dataset||[],e=c.length,g,q,h,d;for(g=0;g<e;g++)if(q=c[g]||[],d=q.type,"markers"===d){h=
q;break}h&&b&&(b=(b+"").toLowerCase(),h.updateMarkerItem(b,a))},removeMarker:function(b){var a=this.jsVars.instanceAPI.components.dataset||[],c=a.length,e,g,q,h;for(e=0;e<c;e++)if(g=a[e]||[],h=g.type,"markers"===h){q=g;break}b&&(b=(b+"").toLowerCase(),q._removeMarkerItem(b))}},_createAxes:function(){}},L.mscartesian);P.register("component",["caption","MapCaption",{configure:function(){var b=this.chart,a=b.jsonData.chart,c=b.components,e=c.caption.config,g=b.config.style,b=g.outCanfontFamily,q=g.outCancolor,
g=g.fontSize,h=["top","center"],c=c.subCaption.config;e.style={fontFamily:l(a.captionfont,b),color:K(l(a.captionfontcolor,q).replace(/^#? ([a-f0-9]+)/ig,"#$1")),fontSize:m(a.captionfontsize,g+3)+"px",fontWeight:0===m(a.captionfontbold)?"normal":"bold"};e.align=c.align=l(a.captionposition,"center");e.align&&(h=e.align.split("-"),h[0]&&(h[0]=h[0].toLowerCase()),h[1]&&(h[1]=h[1].toLowerCase()));e.isOnTop="bottom"===h[0]?c.isOnTop=0:c.isOnTop=1;switch(h[1]){case "right":e.align="end";break;case "left":e.align=
"start";break;default:e.align="middle"}e.alignWithCanvas=c.alignWithCanvas=m(a.aligncaptionwithcanvas,1);e.horizontalPadding=c.horizontalPadding=m(a.captionhorizontalpadding,e.alignWithCanvas?0:15);e.drawCaption=!0;J(e.style);c.style={fontFamily:l(a.subcaptionfont,a.captionfont,b),color:K(l(a.subcaptionfontcolor,a.captionfontcolor,q).replace(/^#? ([a-f0-9]+)/ig,"#$1")),fontSize:m(a.subcaptionfontsize,m(H(m(a.captionfontsize)-3,-1),g)+m(this.subTitleFontSizeExtender,1))+"px",fontWeight:0===m(a.subcaptionfontbold,
this.subTitleFontWeight,a.captionfontbold)?"normal":"bold"};J(c.style)}},"Caption"]);P.register("component",["dataset","Entities",{customConfigFn:"_createDatasets",type:"entity",pIndex:2,configure:function(){var b=this.chart,a=b.jsonData,c=this.conf,e=b.components,g=a.map||a.chart,q,b=A.nonGradientColorRange,h=(a.colorrange||{}).gradient,d=e.postLegendInitFn,r=e.numberFormatter,f,l={},e=a.entitydef||[];q=a.data&&a.data[0]&&a.data[0].data?this.JSONData=a.data[0].data||[]:this.JSONData=a.data||[];c.useSNameAsId=
m(g.usesnameasid,0);this._redefineEntities(e);e=this.components.data;c.showTooltip=m(g.showtooltip,1);c.showHoverEffect=m(g.showhovereffect,0);q=(c=q)&&c.length||0;for(g={};q--;)l=c[q],void 0!==l.id&&(g[l.id.toLowerCase()]=l);q=g;this.calculateDataLimits();l=this.getDataLimits();h?d({min:l.min,max:l.max}):this.components.colorRange=new b({colorRange:a.colorrange,dataMin:l.min,dataMax:l.max,defaultColor:"#00ff00",numberFormatter:r});for(f in e)a=q[f],b=e[f],b.dataset=this,a?this._configureEntity(f,
b,M(this._sanitizeEntityOptions(G({},a)),b.config)):this._configureEntity(f,b,b.config);this._addLegend()},init:function(b){this.JSONData={data:b};this.components={};this.conf={};this.graphics={};this.configure()},updateEntityColors:function(b,a){var c=this.components.data,e=this.chart,g,q,h,d,m={"fill-opacity":0};for(d in c)g=c[d],q=g.config,h=q.cleanValue,q=q.alphaArr||[],q={"fill-opacity":q[0]/100||1},h<b||h>a?(this.setCustomAttrs(g,m,e),g.hidden=!0):(g.hidden=!1,this.setCustomAttrs(g,q,e))},_addLegend:function(){var b=
this.chart.components.legend,a=(this.components.colorRange||{}).colorArr||[],c=this.components.entityColorMap=this.components.entityColorMap||(this.components.entityColorMap=[]),e,g,q=a.length,h,d,m;b.emptyItems();g=c.length=0;for(q=a.length;g<q;g++)e=a[g],d=l(e.code,e.color),h=W(d,60).replace(R,ba),m=W(d,40),d={FCcolor:{color:d+","+d+","+m+","+d+","+d,ratio:"0,70,30",angle:270,alpha:"100,100,100,100,100"}},h={fillColor:U(d),label:l(e.label,e.displayvalue),strokeColor:U(h),legendItemId:e.legendItemId},
(d=c[g])||(d=c[g]={config:{}}),d.config=e,d.visible=!0,d.dataset=this,d.legendItemId=b.addItems(d,this.legendInteractivity,h)},legendInteractivity:function(b,a){var c=this.config,e=b.config,g=b.visible,q=b.dataset,h=q.chart,d=q.components.data,m,f,l=a.config,v=a.graphics,k,p=q.components.colorRange,n=c.itemHiddenStyle.color,c=c.itemStyle.color,t=l.fillColor;f={};var D,F={},y={"fill-opacity":0},w=l.strokeColor;b.visible=!g;for(m in d)d.hasOwnProperty(m)&&(f=d[m],l=f.config,k=l.cleanValue,k=p.getColorObj(k),
l=l.visibleEntityAttr,F["fill-opacity"]=l["fill-opacity"],l=g?y:F,e.code===k.code&&(f.hidden=g?!0:!1,q.setCustomAttrs(f,l,h)));f={legendItemSymbol:{fill:g?n:t,stroke:g?n:w},legendItemText:{fill:g?n:c},legendIconLine:{stroke:g?n:t}};for(D in v)(e=v[D])&&e.attr&&e.attr(f[D])},setCustomAttrs:function(b,a,c){var e=c.get("config","animationObj");c=e.transposeAnimDuration;e=e.animType;b&&(b=b.graphics,b=b.outlines,b.animate(a,c,e))},calculateDataLimits:function(){var b=this.chart,a=this.conf,c=b.jsonData.data||
[],b=b.components.numberFormatter,e,g=Infinity,q=-Infinity,h,d;d=0;for(h=c.length;d<h;d++)e=c[d].value,e=b.getCleanValue(e),g=x(g,e),q=H(q,e);a.max=q;a.min=g},_configureEntity:function(b,a,c){var e=this.chart,g=this.conf,q=e.jsonData,h=e.components,d=h.numberFormatter,r=e.config.entityOpts,f=a.config,e=a.labelConfig,u=c.value,v=q.colorrange&&q.colorrange.gradient,k=(h=h.gradientLegend)&&h.colorRange,p=this.components.colorRange,h=f.cleanValue=d.getCleanValue(u),n=f.formattedValue=h?d.dataLabels(h):
void 0,d=m(c.showtooltip,r.showTooltip),q=this._getDefaultTooltip.call(a,c,this),n={formattedValue:n,sName:c.shortLabel,lName:c.label},t=r.dataLabels.style,d=f.toolText=d?S(l(N(l(c.tooltext,r.tooltext,q),[1,2,7,38,39],n,c))):"",q=f.borderColor=l(c.bordercolor,r.borderColor),n=f.borderAlpha=l(c.borderalpha,r.borderAlpha),D=f.borderThickness=m(c.borderthickness,r.borderThickness),F=f.useHoverColor=m(c.showhovereffect,c.usehovercolor,r.hoverOnNull?r.showHoverEffect:isNaN(u)?0:r.showHoverEffect),u=f.labelAlignment,
y;a.hidden=!1;f.showLabel=m(c.showlabel,r.showLabels);f.labelPadding=m(c.labelpadding,r.labelPadding);f.fontFamily=l(c.font,t.fontFamily);f.fontSize=m(parseInt(c.fontsize,10),parseInt(t.fontSize,10));f.fontBold=m(c.fontbold,0);f.fontColor=l(c.fontcolor,t.color);f.connectorColor=l(c.labelconnectorcolor,r.connectorColor);f.connectorAlpha=l(c.labelconnectoralpha,r.connectorAlpha);f.hoverBorderThickness=m(c.borderhoverthickness,c.hoverborderthickness,r.hoverBorderThickness);f.hoverBorderColor=l(c.borderhovercolor,
c.hoverbordercolor,r.hoverBorderColor,f.borderColor);f.hoverBorderAlpha=l(c.borderhoveralpha,c.hoverborderalpha,r.hoverBorderAlpha,f.borderAlpha);f.connectorThickness=m(c.labelconnectorthickness,r.connectorThickness);f.origConnectorThickness=f.connectorThickness;f.borderThickness=D;f.link=c.link;f.isVisible=!0;f.id=b;f.originalId=c.origId;h&&(k&&v?y=k.getColorByValue(h):p&&(b=p.getColorObj(h),y=l(b.color,b.code)));void 0!==l(c.color,c.alpha,c.angle,c.ratio)?(y=l(c.color,y,r.fillColor),b=l(c.alpha,
r.fillAlpha),h=l(c.angle,r.fillAngle),v=l(c.ratio,r.fillRatio),y=aa({color:y,alpha:b,angle:h,ratio:v})):(y=aa({color:l(y,r.fillColor),alpha:l(r.fillAlpha),angle:l(r.fillAngle),ratio:l(r.fillRatio)}),b=aa({color:l(r.nullEntityColor),alpha:l(r.nullEntityAlpha),angle:l(r.nullEntityAngle),ratio:l(r.nullEntityRatio)}),y=null===h?b:y,b=y.FCcolor.alpha);""===d&&(g.showTooltip=0);f.visibleEntityAttr={stroke:K(q,n),fill:(f.fillColor=y).toString(),"fill-opacity":b/100};g=b.split(",");f.alphaArr=g;F&&(void 0!==
l(c.fillhovercolor,c.fillhoveralpha,c.fillhoverangle,c.fillhoverratio,c.hoverfillcolor,c.hoverfillalpha,c.hoverfillratio,c.hoverfillangle)?(y=l(c.fillhovercolor,c.hoverfillcolor,r.hoverFillColor),b=l(c.fillhoveralpha,c.hoverfillalpha,r.hoverFillAlpha),h=l(c.fillhoverangle,c.hoverfillangle,r.hoverFillAngle),v=l(c.fillhoverratio,c.hoverfillratio,r.hoverFillRatio),g=aa({color:y,alpha:b,angle:h,ratio:v})):(r.hoverColorObject||(r.hoverColorObject=aa({color:r.hoverFillColor,alpha:r.hoverFillAlpha,angle:r.hoverFillAngle,
ratio:r.hoverFillRatio})),g=r.hoverColorObject),f.hoverColor=g);!e&&(e=a.labelConfig={});r=f.fontColor;b=f.fontFamily;y=f.fontBold;d=f.toolText;h=f.link;u?(g=u[0],u=u[1]):(g="center",u="middle");e.align=g;e.vAlign=u;e.bgColor="";e.borderColor="";e.fontColor=r;e.fontFamily=b;e.fontBold=y;e.toolText=d;e.link=h;if("object"===typeof f.options)for(h=f.entityLabels=f.entityLabels||[],q=f.labels||[],n=q.length;n--;)h[n]||(h[n]={config:{}}),e=h[n].config,(u=q[n].labelAlignment)?(g=u[0],u=u[1]):(g="center",
u="middle"),e.align=g,e.vAlign=u,e.displayValue=this.getDisplayValue.call(a,q[n],f.options.isDataEnabled,!n,c),e.bgColor="",e.borderColor="",e.toolText=d,e.align=g,e.vAlign=u,e.bgColor="",e.borderColor="",e.fontColor=r,e.fontFamily=b,e.fontBold=y,e.toolText=d;else f={shortText:f.shortLabel,text:f.label},e.displayValue=this.getDisplayValue.call(a,f,!0,!0,c)},getDisplayValue:function(b,a,c,e){var g=this.dataset.chart.config.entityOpts,q=this.config,h=q.cleanValue,d=q.formattedValue,m=g.labelSepChar;
a?c&&"undefined"!==typeof e.displayvalue?b=e.displayvalue:(b=l(g.includeNameInLabels?g.useShortName?b.shortText:b.text:""),g.includeValueInLabels&&null!==h&&(b=void 0===b?d:b+m+d)):b=q.label;return b},_sanitizeEntityOptions:function(b){delete b.outlines;delete b.label;delete b.shortlabel;delete b.labelposition;delete b.labelalignment;delete b.labelconnectors;return b},_redefineEntities:function(b){var a=this.conf,c={},e={},g=this.chart.entities,m=a.useSNameAsId,h,d,l,f,u,v,k,p=0,n,t;for(h=b.length;h--;)if(d=
b[h],l=d.internalid,f=d.newid?d.newid:l,u=d.sname,v=d.lname,n=g[l],l=A.trimString(l),f=(f=A.trimString(f))&&f.toLowerCase(),n){c[f]=f={origId:l};e[l]=!0;for(t in n)f[t]=n[t];f.shortLabel=u?u:n.shortLabel;f.label=v?v:n.label;f.showhovereffect=d.showhovereffect;f.fillhovercolor=d.fillhovercolor;f.fillhoveralpha=d.fillhoveralpha;f.fillhoverangle=d.fillhoverangle;f.fillhoverratio=d.fillhoverratio;f.borderhoverthickness=d.borderhoverthickness}n=this.components.data;n||(n=this.components.data={});for(k in c)k=
k.toLowerCase(),n[k]||(n[k]={config:{}}),n[k].config=c[k],p+=1;c=n;for(k in g)if(f=g[k],k=A.trimString(k),!e[k]){m?((n=c[f.shortLabel.toLowerCase()])||(n=c[f.shortLabel.toLowerCase()]={}),n.config={},n.origId=f.shortLabel):((n=c[k.toLowerCase()])||(n=c[k.toLowerCase()]={}),n.config={},n.config.origId=k);for(t in f)n.config[t]=f[t];p+=1}a.entityCount=p},draw:function(){var b=this.conf,a=this.chart,c=T?200:10;this.conf.ready=!1;b.BATCH_SIZE=c;b.labelBatchSize=T?200:20;this._batchRender()(0);a.config.entityFlag=
!0},_batchRender:function(){var b=this,a=b.conf,c=b.chart,e=c.getJobList(),c=c.entities.firstEntity,g=b.components.data,m=a.BATCH_SIZE,h=a.entityKeys=c?b._getKeys(c,g):Object.keys(g),d=a.entityLength=h.length,l,f,u,v,k,p=function(a){l=a;for(u=0;void 0!==h[l];){f=g[h[l]];k=b.drawEntity(f,m);u+=k;if(f.config.drawn){if(v=l===d-1?f:g[h[l-1]])v.config.drawn=!1,v.config.outlineStartIndex=void 0;l++}if(u>=m){e.entityDrawID.push(I.addJob(p,b,[l],A.priorityList.entitydraw,!0));break}}l===d&&(b._addEventListenersToEntities(0),
b.initComplete())};return p},_addEventListenersToEntities:function(b){for(var a=this.components.data,c=this.chart.getJobList(),e=this.conf,g=e.BATCH_SIZE,m=e.entityKeys,e=e.entityLength,h,d=0,l;b<e;b++)if(h=a[m[b]],l=h.config,(l=l.options)&&!1===l.isDataEnabled||this.addMouseGestures.call(h),d++,d===g){c.entityDrawID.push(I.addJob(this._addEventListenersToEntities,this,[b],A.priorityList.entitydraw,!0));break}},_getKeys:function(b,a){for(var c=[b],e=b;a[e];)e=a[e].nextId,c.push(e);return c},_getDefaultTooltip:function(b){var a=
this.config.cleanValue,c=this.config.formattedValue,e=this.dataset.chart.config.entityOpts;if("object"===typeof this.config.options){b=b.labels&&b.labels[0];if(!b)return;a=(e.useSNameInTooltip?b.shortText:b.text)+(null===a?"":e.tooltipSepChar+c)}else a=(e.useSNameInTooltip?b.shortLabel:b.label)+(null===a?"":e.tooltipSepChar+c);return a},drawEntity:function(b,a){var c=this.chart,e=c.components.paper,g=b.config,m=T||!Z?"litepath":"path",h=g.outlines,d=c.graphics.datasetGroup,l=c.graphics.shadowGroup,
f=g.toolText,c=c.config.entityOpts.shadow,u,v=[],k,p,n,t,D,F,y,w;this._configureEntityDrawingParams(b);g=b.config;p=g.visibleEntityAttr;w=g.shadowOptions;k=g.fillOpacity;u=void 0===g.outlineStartIndex?h.length:g.outlineStartIndex;b.graphics||(b.graphics={});F=0;v=g.outlinePath||(g.outlinePath=[]);y=g.customStrokeWidthModifier;if("object"===typeof g.options){for(;u--;){v=h[u].outline;if(!0===g.options.isDataEnabled)n=p;else{n=G({},p);t=h[u].style;D=y;var z=void 0,x={};D=D||1;if(t&&"object"===typeof t)for(z in t)ea.test(z)||
("stroke-width"===z?(x[z]=Number(t[z])/D,da&&(x[z]=x[z]&&ga(x[z])||0)):x[z]=t[z]);t=x;n=G(n,t)}t=b.graphics.outlines;t||(t=b.graphics.outlines=[]);!t[u]&&(t[u]={});(D=t[u].outline)?D.attr({"fill-opacity":k}):D=t[u].outline=e[m](v,d);D.attr(n).tooltip(f).shadow(c?w:!1,l);F++;g.outlineStartIndex=u;if(F===a)return F}g.drawn=!0}else{if(b.graphics.outlines)b.graphics.outlines.attr(p).attr({"fill-opacity":k});else{for(;u--;)if(k=h[u],v=k.concat(v),F++,g.outlineStartIndex=u,F===a)return g.outlinePath=v,
F;b.graphics.outlines=e[m](v,d).attr(p)}g.drawn=!0;g.outlineStartIndex=0;g.outlinePath=[];b.graphics.outlines.tooltip(f).shadow(c?w:!1,l)}return F},_configureEntityDrawingParams:function(b){var a=this.chart,c=a.config,e=a.components.gradientLegend,g=b.config,m=a.config.scalingParams,h=!Z||T,d=m.scaleFactor,l=m.strokeWidth,f=(h?a.baseScaleFactor:1)*l,u=1===a.config.entityOpts.scaleBorder,v=g.borderThickness,k=g.origConnectorThickness,p=g.hoverBorderThickness,n=g.visibleEntityAttr,t=n["fill-opacity"];
g.shadowOptions={scalefactor:[d,d*a.baseScaleFactor],opacity:H.apply(O,g.alphaArr)/100};e&&!0===c.gLegendEnabled&&(b.hidden=!1);g.fillOpacity=b.hidden?0:t;e&&e.enabled&&(e.resetLegend(),e.clearListeners());e&&e.notifyWhenUpdate(this.updateEntityColors,this);h?(v=g.entityBorderThickness=u?v*f:v/d,k/=d,b=u?d:m.sFactor,p&&(g.hoverBorderThickness=u?p*f:p/d)):(v=u?v*l:v,b=u?m.scaleFactor:a.baseScaleFactor);g.entityBorderThickness=v;g.connectorThickness=k;g.customStrokeWidthModifier=b;n["stroke-width"]=
v;n.transform=T||!Z?"":m.transformStr},drawLabels:function(b){var a=b.chart,c=b.conf,e=c.labelBatchSize,g=a.components,c=c.entityLength,m=[],h,d=0,l=0,f=0,u=a.config.annotationConfig,v=g.mapLabelAnnotations=g.mapLabelAnnotations||(g.mapLabelAnnotations=[]);(g=v[d])||(g=v[d]=new A.Annotations);g.reset(null,u,a);g._renderer&&(g._renderer=null);for(h in this)b.drawLabel.call(this[h],m),d++,d===e?(g.addGroup({id:"entityLabels",items:m}),l++,(g=v[l])||(g=v[l]=new A.Annotations),g.reset(null,u,a),g._renderer&&
(g._renderer=null),d=0,m=[]):f===c-1&&g.addGroup({id:"entityLabels",items:m}),f++;b.drawLabelConnFn(0)},drawLabelConnFn:function(b){for(var a=this.conf,c=this.chart.getJobList(),e=this.components.data,g=a.BATCH_SIZE,a=a.entityKeys,m,h=a.length,d,l,f=0;b<h;b++){l=e[a[b]];m=l.config;if("object"===typeof m.options)for(m=(d=m.labels)&&d.length||0;m--;)d[m].labelConnectors&&(this.drawLabelConnectors.call(l,d[m].labelConnectors),f++);else m.labelConnectors&&(this.drawLabelConnectors.call(l,m.labelConnectors),
f++);if(f===g){c.entityDrawID.push(I.addJob(this.drawLabelConnFn,this,[b],A.priorityList.entitydraw,!0));break}}},_getLabelObject:function(b,a){var c=this,e=c.dataset,g=e.chart,m=c.config,h,d=g.config.scalingParams,l,f,u=c.graphics&&c.graphics.outlines,v,k=m.fontSize,p=m.labelPadding;f=m.labels||[];h=m.entityLabels||[];var n;void 0!==b?(f=f[b],v=h[b],h=v.config,v=h.style=f.style,l=f.labelPosition,f=f.labelAlignment):(h=c.labelConfig,l=m.labelPosition,f=m.labelAlignment);l?(u=l[0],l=l[1]):(l=u.getBBox(),
u=l.x+l.width/2,l=l.y+l.height/2);f?(n=f[0],f=f[1],"right"===n?u-=p:"left"===n&&(u+=p),"top"===f?l-=p:"bottom"===f&&(l+=p)):(n="center",f="middle");k=parseFloat(k)/d.sFactor;!a&&v&&(v.color&&(h.fontColor=v.color),v["font-size"]&&(k=parseFloat(v["font-size"])/d.sFactor),v["font-family"]&&(h.fontFamily=v["font-family"]),void 0!==v["font-weight"]&&(h.fontBold="bold"===v["font-weight"]));h.x=u.toString();h.y=l.toString();h.wrap=1;h.type="text";h.fontSize=k;return{x:u.toString(),y:l.toString(),wrapwidth:ja[n](void 0,
u+void 0)-p,wrapheight:ia[f](void 0,l+void 0)-p,wrap:1,type:"text",align:h.align,valign:h.vAlign,text:h.displayValue,tooltext:h.toolText,link:h.link,bgcolor:h.bgColor,bordercolor:h.borderColor,fillcolor:h.fontColor,fontsize:h.fontSize,font:h.fontFamily,bold:h.fontBold,onclick:function(a){B.raiseEvent("entityclick",m.eventArgs,g.chartInstance,a)},onmouseover:function(a){var b=c.graphics.outlines,d,f;if(b instanceof Array)for(d=0,f=b.length;d<f;d++)e.entityRollOver.call(b[d].outline,a);else e.entityRollOver.call(b,
a)},onmouseout:function(a){var b=c.graphics.outlines,d,f;if(b instanceof Array)for(d=0,f=b.length;d<f;d++)e.entityRollOut.call(b[d].outline,a);else e.entityRollOut.call(b,a)},ontouchstart:function(a){var b=c.graphics.outlines,d,f;if(b instanceof Array)for(d=0,f=b.length;d<f;d++)e.entityRollOver.call(b[d].outline,a);else e.entityRollOver.call(b,a);e.entityRollOver.call(b,a)}}},drawLabel:function(b){var a=this.dataset,c=this.config,e;if(c.showLabel)if("object"===typeof c.options)for(e=(e=c.labels)&&
e.length||0,c=c.options.isDataEnabled;e--;)b.push(a._getLabelObject.call(this,e,c,!e));else b.push(a._getLabelObject.call(this,void 0,!0,!0))},drawLabelConnectors:function(b){for(var a=this.config,c=this.dataset.chart,e=c.components.paper,g=c.config.scalingParams,c=c.graphics.datasetGroup,m=b&&b.length||0,h,d,l=a.showLabel;m--;)d=b[m],h=this.graphics.connectorElem,l?(h||(this.graphics.connectorElem=h=e.path(d,c)),h.show().attr({transform:T||!Z?"":g.transformStr,stroke:K(a.connectorColor,a.connectorAlpha),
"shape-rendering":"crisp","stroke-width":a.connectorThickness})):h&&h.hide()},entityClick:function(b){var a=this.node.__entity,c=a.dataset.chart,e=c.linkedItems.linkClickFN,a=a.config,g=a.link;B.raiseEvent("entityclick",a.eventArgs,c.chartInstance,b);void 0!==g&&e.call({link:g},c)},entityRollOver:function(b){var a=this.node.__entity,c=a.config,e=a.dataset.chart,g=c.hoverAttr;A.plotEventHandler.call(this,e,b,"entityRollOver");this.data("hovered")?clearTimeout(a.config.timer):c.useHoverColor&&c.isVisible&&
!a.hidden&&(e.config.hoverEntity=this,this.attr(g),this.data("hovered",!0))},entityRollOut:function(b){var a=this,c=this.node.__entity,e,g=c.config.revertAttr;A.plotEventHandler.call(a,c.dataset.chart,b,"entityRollOut");c.config.timer=setTimeout(function(){e=c.hidden;!0!==e&&(a.attr(g),a.data("hovered",!1))},100)},addMouseGestures:function(){var b=this,a=b.config,c=b.dataset,e=b.graphics,g=a.hoverBorderThickness,l=a.hoverBorderColor,h=a.hoverBorderAlpha,d=a.entityBorderThickness,r=a.borderColor,f=
a.borderAlpha,u=a.link,v=a.visibleEntityAttr,k="groupId"+a.originalId,p,n=function(d){void 0!==u&&d.css({cursor:"pointer",_cursor:"hand"});d.data("eventArgs",a.eventArgs);d.data("groupId",k);d.node.__entity=b;b._listenersBinded||d.click(c.entityClick).hover(c.entityRollOver,c.entityRollOut)};a.eventArgs={value:a.cleanValue,label:a.label,shortLabel:a.shortLabel,originalId:a.origId,id:a.id||a.origId};a.legacyEventArgs={value:a.value,lName:a.label,sName:a.shortLabel,id:a.originalId||a.id};a.hoverAttr=
{fill:U(a.hoverColor)};a.revertAttr={fill:U(a.fillColor),stroke:U(a.borderColor,a.borderAlpha)};a.revertAttr["fill-opacity"]=v["fill-opacity"];g!==d&&(a.hoverAttr["stroke-width"]=m(g,d),a.revertAttr["stroke-width"]=d);if(l!==r||h!==f)a.hoverAttr.stoke=K(l,h),a.revertAttr.stroke=K(r,f);for(p in e)if(e.hasOwnProperty(p)){if(e[p]instanceof Array)for(d=e[p],g=0,h=d.length;g<h;g++)l=d[g].outline,n(l);else l=e[p],n(l);b._listenersBinded=!0}},getDataLimits:function(){var b=this.conf;return{max:b.max,min:b.min}},
initComplete:function(){var b=this.chart;this.drawLabels.call(this.components.data,this);b.config.entitiesReady=!0;b.checkComplete()}}]);P.register("component",["dataset","Markers",{type:"markers",configure:function(){var b=this.chart.config.markerOpts;this.calculateDataLimits();b.dataEnabled?this._parseMarkers():this.defineMarkersNShapes();this.configureConnectors()},init:function(b){this.JSONData=b;this.components={};this.conf={};this.graphics={};this.configure()},calculateMarkerRadiusLimits:function(){var b=
this.JSONData,a=this.conf,c=this.chart,b=this.getMarkerRadiusLimits(c.config.width,c.config.height,b.markermaxradius,b.markerminradius);a.minRadius=b.min;a.maxRadius=b.max},calculateDataLimits:function(){var b=this.chart,a=this.conf,c=(b.jsonData.markers||{}).items||[],b=b.components.numberFormatter,e=Infinity,g=-Infinity,l,h,d;d=0;for(h=c.length;d<h;d++)l=c[d],l=l.value,l=b.getCleanValue(l),null!==l&&(e=x(l,e),g=H(l,g));a.min=e;a.max=g},_parseMarkers:function(){var b=this.chart,a=b.jsonData.markers,
c=a.items,e=a.shapes,a=b.config.markerOpts,g=b.components.numberFormatter,q=this.components.shapeObjs=this.components.shapeObjs||(this.components.shapeObjs={}),h=this.components.markerObjs=this.components.markerObjs||(this.components.markerObjs={}),d,r,f,u,v,k,p;if(c&&c.length){if(e&&e.length)for(d=e.length;d;--d)if(f=e[d-1],p=f.id.toLowerCase())q[p]=f;for(d=c.length;d--;)if(f=c[d],p=f.id&&f.id.toLowerCase())e=f.value,void 0!==e&&""!==e&&(e=parseFloat(e)),r=this._initializeMarkerItem(p,f,null,b),
(u=r.config.options.shapeid)&&"string"===typeof u&&(u=u.toLowerCase()),v=r.config,k=v.options,v.cleanValue=g.getCleanValue(e),v.formattedValue=null!==v.cleanValue?g.dataLabels(e):void 0,v.fillColor=l(k.fillcolor,k.color,a.fillColor),v.fillAlpha=l(k.fillalpha,k.alpha,a.fillAlpha),v.fillRatio=l(k.fillratio,a.fillRatio),v.fillAngle=l(k.fillangle,a.fillAngle),v.borderThickness=m(k.borderthickness,a.borderThickness),v.borderColor=l(k.bordercolor,a.borderColor),v.borderAlpha=l(k.borderalpha,a.borderAlpha),
v.labelPadding=k.labelpadding||a.labelPadding,r.dataset=this,f.__hideMarker&&(r._isHidden=!0),u&&(r.shapeObj=q[u]),h[p]=r}},defineMarkersNShapes:function(){var b=this.chart,a=b.jsonData.markers,c=a.definition,e=b.components.numberFormatter,g=b.config.markerOpts,q=fa(c)||{},h=fa(a.application)||{},d=a.shapes,a=this.components.shapeObjs=this.components.shapeObjs||(this.components.shapeObjs={}),r=this.components.markerObjs=this.components.markerObjs||(this.components.markerObjs={}),f,u,v,k;if(c&&c.length){if(d&&
d.length)for(c=d.length;c;--c)if(f=d[c-1],k=f.id.toLowerCase())a[k]=f;for(k in q)f=q[k],c=r[k]=this._initializeMarkerItem(k,f,h[k],b),c.dataset=this,v=c.config.options.shapeid,d=c.config,u=f.value,d.cleanValue=e.getCleanValue(u),f=d.options,d.formattedValue=null!==d.cleanValue?e.dataLabels(u):void 0,d.fillColor=l(f.fillcolor,f.color,g.fillColor),d.fillAlpha=l(f.fillalpha,f.alpha,g.fillAlpha),d.fillRatio=l(f.fillratio,g.fillRatio),d.fillAngle=l(f.fillangle,g.fillAngle),d.borderThickness=m(f.borderthickness,
g.borderThickness),d.borderColor=l(f.bordercolor,g.borderColor),d.borderAlpha=l(f.borderalpha,g.borderAlpha),d.labelPadding=f.labelpadding||g.labelPadding,d.options.tooltext=l(f.tooltext,g.tooltext),d.link=f.link,v&&(c.shapeObj=a[v.toLowerCase()])}},getMarkerRadiusLimits:function(b,a,c,e){a=x(b,a);b=.02*a;a*=.07;e=parseFloat(e);c=parseFloat(c);return isNaN(e)||isNaN(c)?isNaN(e)?isNaN(c)?{min:b,max:a}:{min:parseInt(c/10,10),max:c}:{min:e,max:10*e}:e<c?{min:e,max:c}:{min:c,max:e}},getDataLimits:function(){var b=
this.conf;return{min:b.min,max:b.max}},_initializeMarkerItem:function(b,a,c){var e={},g=e.config;g||(g=e.config={});g.id=b;g.definition=a;g.application=c;g.hasValue=null;g.value=null;g.options=null;g.label=null;g.markerShape=null;g.markerLabel=null;g.drawOptions={shape:null,label:null};g.drawComplete=!1;b=e.config.options=G({},g.definition);g.dataEnabled?isNaN(b.value)||""===b.value||(e.value=parseFloat(b.value),e.hasValue=!0):g.applyAll?g.options=G(b,g.application):c&&(g.options=G(b,g.application));
return e},configureConnectors:function(){var b=this.chart,a=b.jsonData.markers||{},a=a.connector||a.connectors||[],c=this.components.markerObjs,e=a.length,g=this.components.connectors,q=function(a){return function(c){var d=c.data,e=d.wrapper;e&&d.options.hoverEffect&&e.attr(d.options._hoverAttrs);B.raiseEvent("connectorrollover",a,b.chartInstance,c)}},h=function(a){return function(c){var d=c.data,e=d.wrapper;e&&d.options.hoverEffect&&e.attr(d.options._defaultAttrs);B.raiseEvent("connectorrollout",
a,b.chartInstance,c)}},d=function(a){return function(c){B.raiseEvent("connectorClick",a,b.chartInstance,c)}},r=b.config.connectorOpts,f={},u,v,k,p,n,t,x,F,y,w,z,C,A;g||(g=this.components.connectors=[]);for(A=0;A<e;A++)if(C=a[A],C.from||C.to)v=c[C.from.toLowerCase()],k=c[C.to.toLowerCase()],v&&k&&(p=a[A].label,f=g[A],!f&&(f=g[A]={}),!f.config&&(u=f.config={}),!f.graphics&&(f.graphics={}),u=f.config=G({},C),u.fromMarker=v,u.toMarker=k,u.link=C.link,u.showTooltip=m(C.showtooltip,r.showTooltip),n=u.tooltext=
u.showTooltip?l(C.tooltext,r.tooltext):"",t=u.thickness=l(C.thickness,r.thickness),x=u.color=l(C.color,r.color),F=u.alpha=l(C.alpha,r.alpha),u.hoverEffect=m(C.showhovereffect,r.showHoverEffect),y=l(C.hovercolor,r.hoverColor,x),w=l(C.hoveralpha,r.hoverAlpha,F),z=l(C.hoverthickness,r.hoverThickness,t),u.dashed=l(C.dashed,r.dashed),u.dashLen=m(C.dashlen,r.dashlen),u.dashGap=m(C.dashgap,r.dashgap),n&&(u.tooltext=n=S(N(n,[3,40,41,42,43],{label:p,fromId:v.config.definition.id,toId:k.config.definition.id,
fromLabel:v.config.definition.label,toLabel:k.config.definition.label},void 0))),u.eventArgs={fromMarkerId:v.config.id,toMarkerId:k.config.id,label:p},u._hoverAttrs={stroke:aa({color:y,alpha:w}).toString(),"stroke-width":z},u._defaultAttrs={stroke:aa({color:x,alpha:F}).toString(),"stroke-width":t},u.type="line",u.onclick=d(u.eventArgs),u.onmouseover=q(u.eventArgs),u.onmouseout=h(u.eventArgs),p&&(u=f.labelConfig,!u&&(u=f.labelConfig={}),u.type="text",u.text=p,u.align="center",u.valign="middle",u.font=
r.font,u.fillcolor=r.fontColor,u.bgcolor=r.labelBgColor,u.bordercolor=r.labelBorderColor,u.tooltext=r.tooltext))},draw:function(){var b=this.chart,a=this.conf,c=b.components.mapAnnotations,e=this.components.markerObjs,g=b.config,l=g.markerOpts,h=g.scalingParams,g=[],d=[],m,f;f=c.addGroup({items:d});c=c.addGroup({fillalpha:"100",items:g});this.components.markerGroup=c;this.components.markerLabelGroup=f;a.autoScale=l.autoScale?h.sFactor:1;for(m in e)a=null,l=e[m],h=l.config,h.conIsHidden||(a=this._drawMarkerItem.call(l)),
a&&(h._annotationIndex=g.length,l.markerShape=a.markerShape&&c.addItem(a.markerShape,!1,b),g.push(l.markerShape),l.markerLabel=a.markerLabel&&f.addItem(a.markerLabel,!1,b),d.push(l.markerLabel));this._drawConnectors()},_drawMarkerItem:function(){var b=this,a=b.dataset,c=a.chart,e=c.config,g=a.conf,q=e.scalingParams,h=b.config,d=h.options,r=h.definition,f=e.markerOpts,u=q.translateX,v=q.translateY,e=f.dataLabels.style,k=d.shapeid,p=d.scale||1,n=d.label||"",t=c.config.scalingParams.scaleFactor*c.baseScaleFactor,
x=(d.labelpos||"top").toLowerCase(),A=void 0===h.formattedValue?void 0:h.formattedValue,y=d.tooltext,g=m(r.radius,h.radius,f.radius)*p*g.autoScale||1E-4,r=h.fillColor,w=h.fillAlpha,z=h.fillRatio,C=h.fillAngle,H=h.borderThickness,E=h.borderColor,I=h.borderAlpha,J,L;h.autoScale=f.autoScale?t:1;if(k){y=y?S(N(y,[1,2,3],{formattedValue:A,label:n},d)):A?n+f.tooltipSepChar+A:n;void 0!==A&&null!==A?n=n+f.labelSepChar+A:isNaN(p)?p=1:0>p?p=0:5<p&&(p=5);J=function(){var a=b.markerShape,d=a.options,e=a.bounds,
f=d._markerEventArgs,g=a.wrapper,k=a.fillOptions;g&&d.hovereffect&&("circle"===a.type&&(a={color:d.hoverfillcolor,alpha:d.hoverfillalpha,angle:360-d.hoverfillangle,ratio:d.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:k.radialGradient,cx:k.cx,cy:k.cy},d._hoverattrs.fill=U(a)),a=G({},d._hoverattrs),"image"===g.type&&(delete a.fill,delete a.stroke,delete a["stroke-width"]),g.attr(a));f||(f=d._markerEventArgs={x:e.x1/e.xs,y:e.y1/e.ys,scaledX:e.x1,scaledY:e.y1,chartX:u+e.x1,chartY:v+
e.y1,id:d._markerId,label:d._markerLabel});B.raiseEventGroup(h.id,"markerRollOver",f,c.chartInstance,h,void 0,void 0,void 0)};L=function(){var a=b.markerShape,e=a.wrapper,f=a.fillOptions;e&&a.options.hovereffect&&("circle"===a.type&&(d._defaultattrs.fill=U(f)),f=G({},a.options._defaultattrs),"image"===e.type&&(delete f.fill,delete f.stroke,delete f["stroke-width"]),e.attr(f));B.raiseEventGroup(h.id,"markerRollOut",a.options._markerEventArgs,c.chartInstance,void 0,void 0,void 0)};G(d,{x:d.x.toString(),
y:d.y.toString(),fillcolor:r,fillalpha:w,fillratio:z,fillangle:C,borderthickness:H,bordercolor:E,borderalpha:I,hovereffect:l(f.showHoverEffect),radius:g.toString(),tooltext:f.showTooltip?y:0,link:d.link,showshadow:m(d.showshadow,h.shadow),_markerLabel:n,_markerId:d.id,id:(d.id+"").toLowerCase(),onmouseover:function(){J()},onmouseout:function(){L()},onclick:function(a){B.raiseEvent("markerClick",a.data.options._markerEventArgs,c.chartInstance,a)}});"triangle"===k?G(d,{type:"polygon",sides:3,startangle:f.startAngle}):
"diamond"===k?G(d,{type:"polygon",sides:4,startangle:f.startAngle}):"arc"===k?G(d,{type:"arc",startangle:0,endangle:360,innerradius:.6*g}):"circle"===k?d.type="circle":(k=a.getShapeArgs.call(b),f.dataEnabled&&f.valueToRadius&&void 0!==d.radius?delete k.radius:(!k.radius&&(k.radius=f.radius),k.radius=k.radius*p*h.autoScale),G(d,k),d.id=d._markerId&&d._markerId.toLowerCase());G(d,{hoverfillcolor:l(d.fillhovercolor,f.hoverFillColor,d.fillcolor),hoverfillalpha:l(d.fillhoveralpha,f.hoverFillAlpha,d.fillalpha),
hoverfillratio:l(d.fillhoverratio,f.hoverFillRatio,d.fillratio),hoverfillangle:l(d.fillhoverangle,f.hoverFillAngle,d.fillangle),hoverborderthickness:m(d.borderhoverthickness,f.hoverBorderThickness,d.borderthickness),hoverbordercolor:l(d.borderhovercolor,f.hoverBorderColor,d.bordercolor),hoverborderalpha:l(d.borderhoveralpha,f.hoverBorderAlpha,d.borderalpha)});p={alpha:d.fillalpha,color:d.fillcolor,angle:360-d.fillangle,ratio:d.fillratio};k={alpha:d.hoverfillalpha,color:d.hoverfillcolor,angle:360-
d.hoverfillangle,ratio:d.hoverfillratio};d._defaultattrs={fill:U(p),"stroke-width":"0"!==d.showborder?d.borderthickness:0,stroke:K(d.bordercolor,d.borderalpha)};d._hoverattrs={fill:U(k),"stroke-width":"0"!==d.showborder?d.hoverborderthickness:0,stroke:K(d.hoverbordercolor,d.hoverborderalpha)};"image"===d.type&&(d.borderthickness=d.borderthickness||0,d.onload=function(a){var b=this.options,c=a.width;a=a.height;var d=(Number(b.x)-c/(2*q.sFactor))*q.sFactor,b=(Number(b.y)-a/(2*q.sFactor))*q.sFactor,
e;if(c&&a)for(e in{wrapper:1,tracker:1})this[e]&&this[e].attr({x:d,y:b,width:c,height:a})});h.drawOptions.shape=d;if(!f.showLabels)return{markerShape:d};p=d.labelpadding||f.labelPadding;x=a._getLabelOptions(x,p,d);k=x.align;t=x.valign;g=h._labelBaseWidth;A=h._labelBaseHeight;r=h._labelXOffset;y=h._labelYOffset;g=f.labelWrapWidth?f.labelWrapWidth:a.getWrapWidth[k](g,Number(x.x)+r);a=f.labelWrapHeight?f.labelWrapHeight:a.getWrapHeight[t](A,Number(x.y)+y);g>p&&(g-=p);a>p&&(a-=p);h.drawOptions.label=
"center"==k&&"middle"==t?G({type:"text"},{text:n,tooltext:d.tooltext,x:x.x,y:x.y,align:k,valign:x.valign,wrap:1,wrapwidth:g,wrapheight:a,fontsize:e.fontSize/q.sFactor,font:e.fontFamily,fillcolor:e.fontColor,onmouseover:function(){J()},onmouseout:function(){L()}}):G({type:"text"},{text:n,tooltext:d.tooltext,x:x.x,y:x.y,align:k,valign:x.valign,wrap:1,wrapwidth:g,wrapheight:a,fontsize:e.fontSize/q.sFactor,font:e.fontFamily,fillcolor:e.fontColor});return{markerShape:d,markerLabel:h.drawOptions.label}}},
_drawConnectors:function(){var b=this.chart,a=this.components.connectors,c=a.length,e=b.config.scalingParams,g=b.config.connectorOpts,l=g.showLabels,h=b.components.mapAnnotations,d,m=[],f=[],u,v,k,p,n=[];n.push({id:"connectorLabels",fillalpha:"100",items:f});n.push({id:"connectors",fillalpha:"100",items:m});for(d=0;d<c;d++)a[d]&&(v=a[d].config.fromMarker.config,p=a[d].config.toMarker.config,u=v.options.x,v=v.options.y,k=p.options.x,p=p.options.y,a[d].config.x=u,a[d].config.y=v,a[d].config.tox=k,a[d].config.toy=
p,m.push(a[d].config),a[d].labelConfig&&l&&(a[d].labelConfig.x=((Number(u)+Number(k))/2).toString(),a[d].labelConfig.y=((Number(v)+Number(p))/2).toString(),a[d].labelConfig.fontsize=g.fontSize/(e.scaleFactor*b.baseScaleFactor),f.push(a[d].labelConfig)));h.addGroup(n[0]);h.addGroup(n[1])},getShapeArgs:function(){var b=this.config,a=G({},this.shapeObj),c;b.autoScale=1;return a?("polygon"===a.type?3>a.sides?a.type="circle":a.startangle=b.startAngle:"arc"===a.type&&(c=(a.radius||b.markerRadius)*b.autoScale,
a.radius=c,a.innerradius=a.innerradius&&a.innerradius*b.autoScale||.6*c),a):null},_getLabelOptions:function(b,a,c,e,g){var l,h=b&&b.toLowerCase();this.getLabelAlignment[h]||(h="center");b=Number(c.x);l=Number(c.y);c=void 0===e||void 0===g?c.radius||0:/^(top|bottom)$/ig.test(h)&&.5*g||/^(left|right)$/ig.test(h)&&.5*e||0;c=Number(c)+Number(a);return this.getLabelAlignment[h](b,l,c)},getLabelAlignment:{top:function(b,a,c){return{x:b.toString(),y:(a-c).toString(),align:"center",valign:"top"}},left:function(b,
a,c){return{x:(b-c).toString(),y:a.toString(),align:"right",valign:"middle"}},right:function(b,a,c){return{x:(b+c).toString(),y:a.toString(),align:"left",valign:"middle"}},bottom:function(b,a,c){return{x:b.toString(),y:(a+c).toString(),align:"center",valign:"bottom"}},center:function(b,a){return{x:b.toString(),y:a.toString(),align:"center",valign:"middle"}}},getWrapWidth:{right:function(b,a){return a},left:function(b,a){return b-a},center:function(b,a){return 2*x(a,b-a)}},getWrapHeight:{top:function(b,
a){return a},middle:function(b,a){return 2*x(a,b-a)},bottom:function(b,a){return b-a}},addMarkerItem:function(b){var a=this.components.markerObjs,c=this.components.shapeObjs,e=this.components.markerGroup,g=this.components.markerLabelGroup,l,h;if((h=b.id.toLowerCase())&&!a[h]){delete b.value;b=this._initializeMarkerItem(h,b,null);b.dataset=this;if(l=b.config.options.shapeid)b.shapeObj=c[l&&l.toLowerCase()];a[h]=b;a=this._drawMarkerItem.call(b);e&&g&&(b.markerShape=a.markerShape&&e.addItem(a.markerShape,
!0),b.markerLabel=a.markerLabel&&g.addItem(a.markerLabel,!0))}},updateMarkerItem:function(b,a){var c=this.chart.components.mapAnnotations,e,g=this.components.markerObjs[b];g&&(e=g.config.options,G(e,a),e=this._drawMarkerItem.call(g).markerShape,c.update(b,e))},_removeMarkerItem:function(b){var a=this.components.markerObjs,c=a[b],e;c&&(e=c.markerShape,c=c.markerLabel,e&&e.destroy(),c&&c.destroy());delete a[b]}},"Entities"])},[3,2,0,"release"]])});
