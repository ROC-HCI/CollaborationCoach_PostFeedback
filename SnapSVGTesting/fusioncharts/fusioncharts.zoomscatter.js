/*
 FusionCharts JavaScript Library - ZoomScatter Chart
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.11.2
*/
(function(O){"object"===typeof module&&"undefined"!==typeof module.exports?module.exports=O:O(FusionCharts)})(function(O){O.register("module",["private","modules.renderer.js-zoomscatter",function(){function P(){}var E=this,v=E.hcLib,W=v.parseTooltext,M=v.Raphael,Q=E.window,X=v.addEvent,ea=v.removeEvent,Y=Q.MouseEvent,G=Q.document,F=v.BLANKSTRING,y=v.pluck,D=v.pluckNumber,fa=v.getFirstValue,ga=v.toRaphaelColor,ha=v.hasSVG,Z=v.isIE,R=v.getFirstColor,N=v.hasTouch,S="rgba(192,192,192,"+(Z?.002:1E-6)+
")",C=Math,K=C.round,z=C.min,B=C.max,T=C.abs,L=C.cos,H=C.sin,aa=C.floor,ia=2*Math.PI,ja=v.getMouseCoordinate,ka=v.POSITION_BOTTOM,I=v.chartAPI,U=v.HUNDREDSTRING,C=!/fusioncharts\.com$/i.test(Q.location.hostname),ba,ca,J=function(c,b){var a=ja(b.linkedItems.container,c),d=a.chartX,e=a.chartY,f=b.config,h=f.canvasLeft,l=f.canvasTop,g=f.canvasLeft+f.canvasWidth,f=f.canvasHeight+f.canvasTop;a.insideCanvas=!1;a.originalEvent=c;d>h&&d<g&&e>l&&e<f&&(a.insideCanvas=!0);return a},la=function(c,b,a){var d;
b&&c&&(a||(a={}),a.originalEvent&&(a=a.originalEvent),a.touches&&(a=a.touches[0]),b.dispatchEvent?(Y?d=new Y(c,{bubbles:!!a.bubbles,cancelable:!!a.cancelable,clientX:a.clientX||a.pageX&&a.pageX-G.body.scrollLeft-G.documentElement.scrollLeft||0,clientY:a.clientY||a.pageY&&a.pageY-G.body.scrollTop-G.documentElement.scrollTop||0,screenX:a.screenX||0,screenY:a.screenY||0,pageX:a.pageX||0,pageY:a.pageY||0}):G.createEvent&&(d=G.createEvent("HTMLEvents"),d.initEvent(c,!!a.bubbles,!!a.cancelable)),d.eventName=
c,d&&b.dispatchEvent(d)):G.createEventObject&&b.fireEvent&&(d=G.createEventObject(),d.eventType=c,d.eventName=c,b.fireEvent("on"+c,d)))};I("zoomscatter",{standaloneInit:!0,defaultDatasetType:"zoomscatter",applicableDSList:{zoomscatter:!0},highlightEnabled:!1,friendlyName:"ZoomScatter Chart",isXY:!0,defaultZeroPlaneHighlighted:!1,creditLabel:C,configure:function(){var c,b=this.config;I.scatter.configure.apply(this,arguments);c=this.jsonData.chart;b.stepZoom=1-D(c.stepzoom,25)/100;b.showToolBarButtonToolText=
D(c.showtoolbarbuttontooltext,1);b.btnResetChartToolText=y(c.btnresetcharttooltext,"Reset Chart");b.btnZoomOutToolText=y(c.btnzoomouttooltext,"Zoom out to previous level");b.btnZoomInToolText=y(c.btnzoomintooltext,"<strong>Zoom in</strong><br/>Or double-click on plot to zoom-in");b.btnSelectZoomToolText=y(c.btnselectzoomtooltext,"<strong>Select a region to zoom-in</strong><br/>Click to enable pan mode.");b.btnPanToolText=y(c.btnpantooltext,"<strong>Drag to move across chart</strong><br/>Click to enable select-zoom mode.")},
_setAxisLimits:function(){var c=this.jsonData,b=this.components.xAxis,a=y(c.chart.xaxislabelmode,"categories"),c=c.categories&&c.categories[0],c=(c&&c.category||[]).slice(),d,e=Infinity,f=-Infinity,h;if("auto"===a||0===c.length){I.mscartesian._setAxisLimits.call(this);a=b[0].getLimit();b[0].setAxisConfig({hasCategory:0});b[0].resetCategoryAxisComponents();for(d=0;d<c.length;d+=1)if(h=c[d].x)h<e&&(e=h),h>f&&(f=h);if(f>a.max||e<a.min)f=B(f,a.max),e=z(e,a.min),b[0].setDataLimit(f,e)}else b[0].resetNumericAxisComponents(),
I.scatterBase._setAxisLimits.call(this)},_createAxes:function(){var c=this.components;I.scatter._createAxes.call(this,arguments);c.yAxis[0].setAxisConfig({animateAxis:!1});c.xAxis[0].setAxisConfig({animateAxis:!1})},_spaceManager:function(){var c,b,a=this.config,d=this.components,e=d.xAxis&&d.xAxis[0];b=d.yAxis&&d.yAxis||[];var f,h,l=d.legend.config.legendPos,g=a.xDepth,k=a.yDepth,m=a.canvasBgDepth,n=a.canvasBaseDepth,u=a.canvasBasePadding,q=d.canvas.config.canvasBorderWidth,r=a.realTimeConfig&&a.realTimeConfig.showRTValue,
p=a.borderWidth,w=a.canvasMarginTop,x=a.canvasMarginBottom,t=a.canvasMarginLeft,A=a.canvasMarginRight,d=a.minCanvasHeight,V=a.minCanvasWidth;c=a.minChartWidth;var da=a.minChartHeight,y=a.height,z=a.width,v=a._initConfig||(a._initConfig={}),B=!1,E=a.origCanvasTopMargin,F=a.origCanvasBottomMargin,D,C,G=[];v.canvasLeft=a.canvasLeft;v.canvasWidth=a.canvasWidth;v.canvasHeight=a.canvasHeight;v.canvasTop=a.canvasTop;v.availableHeight=a.availableHeight;v.availableWidth=a.availableWidth;a.canvasWidth-2*p<
c&&(h=(a.canvasWidth-c)/2);a.canvasHeight-2*p<da&&(f=(a.canvasHeight-da)/2);this._allocateSpace({top:f||p,bottom:f||p,left:h||p,right:h||p});a.origCanvasWidth=a.canvasWidth;a.origCanvasLeft=a.canvasLeft;a.canvasRight=a.canvasLeft+a.canvasWidth;a.origCanvasRight=a.canvasRight;p=0;for(h=b.length;p<h;p++)f=b[p],c=.7*a.availableWidth,c=f&&f.placeAxis(c)||{},G.push({axisIndex:p,spaceTaken:c}),f&&this._allocateSpace(c);b=.7*a.canvasHeight;this._manageActionBarSpace&&this._allocateSpace(this._manageActionBarSpace(b));
this._manageLegendSpace(void 0);k&&(this._allocateSpace({bottom:k}),a.shift=g+u+n);m&&this._allocateSpace({right:m});a.canvasWidth-2*q<V&&(C=(a.canvasWidth-V)/2);this._allocateSpace({left:C||q,right:C||q});V>z-t-A&&(k=a.canvasWidth-V,g=t+A,t=a.canvasMarginLeft=k*t/g,A=a.canvasMarginRight=k*A/g);t=t>a.canvasLeft?t-a.canvasLeft:0;this._allocateSpace({left:t,right:A>z-a.canvasRight?A+a.canvasRight-z:0});b=l===ka?.6*a.canvasHeight:.6*a.canvasWidth;this._manageChartMenuBar(b);b=.2*a.availableHeight;this._allocateSpace(this._getSumValueSpace(b));
b=.3*a.availableHeight;a.origCanvasHeight=a.canvasHeight;a.canvasBottom=a.canvasTop+a.canvasHeight;a.origCanvasBottom=a.canvasBottom;a.origCanvasTop=a.canvasTop;a.realtimeEnabled&&(r?this._allocateSpace(this._realTimeValuePositioning(b)):this._hideRealTimeValue());b=.6*a.availableHeight;a.xAxisSpaceAllocation=l=e&&e.placeAxis(b);e&&this._allocateSpace(l);this._getDSspace&&this._allocateSpace(this._getDSspace(.4*a.canvasWidth));b=.3*a.availableHeight;this._manageScrollerPosition&&this._manageScrollerPosition(b);
a.canvasHeight-2*q<d&&(D=(a.canvasHeight-d)/2);this._allocateSpace({top:D||q,bottom:D||q});this._allocateSpace({bottom:n});d>y-w-x&&(B=!0,k=a.canvasHeight-d,g=w+x,w=a.canvasMarginTop=k*w/g,x=a.canvasMarginBottom=k*x/g);e=w>a.canvasTop?w-a.canvasTop:0;n=x>y-a.canvasBottom?x+a.canvasBottom-y:0;this._allocateSpace({top:e,bottom:n});B&&(g=E+F,B=a.canvasHeight,B>d&&(k=B-d,e=k*E/g,n=k*F/g),this._allocateSpace({top:e,bottom:n}));a.actualCanvasMarginTop=e;a.actualCanvasMarginLeft=t},_createToolBox:function(){var c,
b,a,d,e,f,h,l,g,k=this,m=k.config;d=k.components;c=d.chartMenuBar;g=m.showToolBarButtonToolText;var n=m.stepZoom;c&&c.drawn||(I.mscartesian._createToolBox.call(k),c=d.tb,b=c.graphics||(c.graphics={}),a=c.getAPIInstances(c.ALIGNMENT_HORIZONTAL),a=a.Symbol,d=d.chartMenuBar.componentGroups[0],e=b.zoomInButton=(new a("zoomInIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){k.zoom(n)},tooltext:g&&m.btnZoomInToolText||F}),f=b.zoomOutButton=(new a("zoomOutIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){var a=
m.viewPortHistory;1<a.length&&(a=a.slice(-2,-1)[0],k.updateVisual(a.x,a.y,a.scaleX,a.scaleY))},tooltext:g&&m.btnZoomOutToolText||F}),h=b.resetButton=(new a("resetIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){var a=m.viewPortConfig,b=k.graphics;1<m.viewPortHistory.length&&(a.isReset=!0,k.zoomSelection(0,0,m.canvasWidth,m.canvasHeight),m.viewPortHistory.splice(1),b.trackerGroup.attr({cursor:"default"}),k.updateButtonVisual(),k.updateSelectionBox(0,0,0,0));E.raiseEvent("zoomReset",
{},k.chartInstance,[k.chartInstance.id])},tooltext:g&&m.btnResetChartToolText||F}),l=b.toggleZoomInButton=(new a("zoomModeIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){k.toogleDragPan(!0)},tooltext:g&&m.btnSelectZoomToolText||F}),g=b.togglePanButton=(new a("panModeIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){k.toogleDragPan(!0)},tooltext:g&&m.btnPanToolText||F}),d.addSymbol(g,!0),d.addSymbol(l,!0),d.addSymbol(h,!0),d.addSymbol(f,!0),d.addSymbol(e,
!0))},_createLayers:function(){var c=this.graphics,b=this.components.paper;I.scatter._createLayers.call(this);!c.imageContainer&&(c.imageContainer=b.group("dataset-orphan",c.datasetGroup));this.__preDraw()},_dist:function(c,b){var a=this.components,d;d=a.xAxis[0];a=a.yAxis[0];if(c&&b)return d=(c.x-b.x)*d.getPVR(),a=(c.y-b.y)*a.getPVR(),Math.sqrt(Math.pow(d,2)+Math.pow(a,2))},__preDraw:function(){var c=this.graphics,b=c.imageContainer,a=this.config,d=a.canvasLeft,e=a.canvasTop,f=a.canvasWidth,h=a.canvasHeight,
l=this.jsonData.chart,g=this.linkedItems,g=g.eventListeners||(g.eventListeners=[]),k=this.linkedItems.container,m=this.components.paper;a.updateAnimDuration=500;b.transform("t"+d+","+e);b.attr({"clip-rect":d+","+e+","+f+","+h});a.status="zoom";a.maxZoomLimit=D(l.maxzoomlimit,1E3);a.viewPortHistory=[{scaleX:1,scaleY:1,x:0,y:0}];!c.trackerElem&&(c.trackerElem=m.rect(d,e,f,h,0,c.trackerGroup).attr({fill:S,stroke:S}));ea(k,N?"touchstart":"mousemove",this.searchMouseMove);g.push(X(k,"touchstart mousemove",
this.searchMouseMove,this));this.zoomPanManager(b)},searchMouseMove:function(c){var b,a,d,e=c.data,f=e.config,h=f.viewPortConfig;a=e.components;var l=a.xAxis[0],g=a.yAxis[0];e.linkedItems.container&&!f.isDragging&&((b=J(c,e))&&b.insideCanvas?(a=f.canvasTop,d=l.getAxisConfig("axisDimention").x||f.canvasLeft,h.lastMouseCoordinate={x:Number(l.getValue(b.chartX-d)),y:Number(g.getValue(b.chartY-a))},clearTimeout(h.neighbourSearchTimer),f.lastMouseEvent=c,h.neighbourSearchTimer=setTimeout(function(){f.isDragging||
e._bestNeighbour(h.lastMouseCoordinate)},100)):e.highlightPoint(!1))},updateSelectionBox:function(c,b,a,d){var e=this.config,f=this.graphics,h=this.components.paper,l=e.viewPortConfig,g=e.cursor,k=f.selectionBox,m=e.canvasRight,n=e.canvasLeft,u=e.canvasTop,q=e.canvasBottom,r=c<a?c:a,p=b<d?b:d,w=c>a?c:a,x=b>d?b:d,t=a-c,A=b-d,g=g?0<t&&0<A?"ne-resize":0>t&&0<A?"nw-resize":0>t&&0>A?"sw-resize":0<t&&0>A?"se-resize":"default":"default",r=r<n?n:r>m?m:r,p=p<u?u:p>q?q:p,t=c===a&&b===d?0:(w>m?m:w<n?n:w)-r,
A=c===a&&b===d?0:(x>q?q:x<u?u:x)-p;k?k.attr({x:r,y:p,width:t,height:A,cursor:g}):f.selectionBox=h.rect(r,p,t,A).attr({"stroke-width":1,stroke:"red",fill:"#00FF00",opacity:.2,cursor:g});f.trackerGroup.attr({cursor:g});e.cursor=g;l.selectionDimensions||(l.selectionDimensions={startX:0,endX:0,startY:0,endY:0});l.selectionDimensions.startX=c;l.selectionDimensions.endX=b;l.selectionDimensions.startY=a;l.selectionDimensions.endY=d},getValue:function(c){var b=this.config,a=this.components,d=b.viewPortConfig;
c=this.getOriginalPositions(c.x,c.y,c.x,c.y);var e=a.xAxis[0].config.axisRange,a=a.yAxis[0].config.axisRange,f=e.min,h=a.max;return{x:f+(c[0]-b.canvasLeft)/(b.canvasWidth*d.scaleX/(e.max-f)),y:h-(c[1]-b.canvasTop)/(b.canvasHeight*d.scaleY/(h-a.min))}},_getTouchViewPort:function(c,b,a){var d,e;e=this.config;var f=e.canvasLeft,h=e.canvasTop;d=e.canvasWidth;e=e.canvasHeight;var l=z(c[0].chartX,c[1].chartX)-f,g=z(c[0].chartY,c[1].chartY)-h,k=Math.abs(c[1].chartX-c[0].chartX);c=Math.abs(c[1].chartY-c[0].chartY);
var f=z(b[0].chartX,b[1].chartX)-f,m=z(b[0].chartY,b[1].chartY)-h,h=Math.abs(b[1].chartX-b[0].chartX)/k*a.scaleX;b=Math.abs(b[1].chartY-b[0].chartY)/c*a.scaleY;l=a.x+l/a.scaleX-f/h;a=a.y+g/a.scaleY-m/b;l=0>l?0:l;a=0>a?0:a;b=1>b?1:b;h=1>h?1:h;d-=d/h;e-=e/b;return{x:l>d?d:l,y:a>e?e:a,scaleX:h,scaleY:b}},getOriginalPositions:function(c,b,a,d){var e=this.config,f=e.viewPortConfig,h=f.scaleX,l=f.scaleY,g=f.x,f=f.y,k=z(c,a);c=B(c,a);a=z(b,d);b=B(b,d);c=c>e.canvasWidth?e.canvasWidth:c;b=b>e.canvasHeight?
e.canvasHeight:b;k=0>k?0:k;a=0>a?0:a;return[g+k/h,f+a/l,(c-k)/h,(b-a)/l]},zoomSelection:function(c,b,a,d){var e=this.config;a&&d&&(a=Math.abs(e.canvasWidth/a),d=Math.abs(e.canvasHeight/d),this.updateVisual(c,b,a,d))},toogleDragPan:function(c){var b=this.config,a=b.status;c&&(b.status="zoom"===a?"pan":"zoom",E.raiseEvent("zoomModeChanged",{panModeActive:b.status},this.chartInstance,[this.chartInstance.id]));this.updateButtonVisual()},updateManager:function(c){var b,a=this.components.dataset,d=a.length;
for(b=0;b<d;b+=1)a[b].draw(c);c||this._drawQuadrant()},zoomPanManager:function(){var c,b=[],a=[],d=this,e=d.config,f=d.graphics,h=d.components,l=h.xAxis[0],g=h.eventListeners||(h.eventListeners=[]),k=d.viewPortConfig,m=!1,n=0,u,q={},r=function(a){var b=a.chartX,c=a.chartY,d=l.getAxisConfig("axisDimention").x||e.canvasLeft,f=e.canvasTop,g=e.canvasRight,k=e.canvasBottom;b<d&&(a.chartX=B(b,d));b>g&&(a.chartX=z(b,g));c<f&&(a.chartY=B(c,f));c>k&&(a.chartY=z(c,k))},p={start:function(a){k=e.viewPortConfig;
N=a.touches?!0:!1;b[0]=J(a,d);d.updateSelectionBox(0,0,0,0);N&&(m=!1,c=a.touches.length,2===c&&(m=!0,q.x=k.x,q.y=k.y,q.scaleX=k.scaleX,q.scaleY=k.scaleY,b[0]=J(a.touches.item(0),d),b[1]=J(a.touches.item(1),d)));e.isDragging=!1;"pan"===e.status&&(e.panStartX=k.x,e.panStartY=k.y,b[0].insideCanvas&&f.trackerGroup.attr({cursor:"move"}))},on:function(c){var g,l,n,p;n=e.panStartX;var r=e.panStartY;g=k.scaleX;l=k.scaleY;var u=h.xAxis[0],v=h.yAxis[0];N=c.touches?!0:!1;a[0]=J(c,d);a[0].insideCanvas?"pan"===
e.status&&f.trackerGroup.attr({cursor:"move"}):f.trackerGroup.attr({cursor:"default"});N&&c&&(p=c.touches.length,2===p?(m=!0,a[0]=J(c.touches.item(0),d),a[1]=J(c.touches.item(1),d)):m=!1);!e.isDragging&&(!N||2<T(a[0].chartX-b[0].chartX)||2<T(a[0].chartY-b[0].chartY))&&(e.isDragging=!0,d.highlightPoint(!1),"zoom"===e.status&&(b[0].pointValue=d.getValue({x:b[0].chartX,y:b[0].chartY}),E.raiseEvent("selectionStart",{chartX:b[0].chartX,chartY:b[0].chartY,pageX:b[0].pageX,pageY:b[0].pageY,selectionTop:b[0].chartX+
e.canvasLeft,selectionLeft:b[0].chartY+e.canvasTop,selectionWidth:0,selectionHeight:0,startXVAlue:b[0].pointValue.x,startYVAlue:b[0].pointValue.y},d.chartInstance,[d.chartInstance.id])));if(e.isDragging)if(m){if(b[0].insideCanvas||b[1].insideCanvas)n=d._getTouchViewPort(b,a,q),d.updateVisual(n.x,n.y,n.scaleX,n.scaleY,!0)}else"zoom"===e.status?d.updateSelectionBox(b[0].chartX,b[0].chartY,a[0].chartX,a[0].chartY):"pan"!==e.status||1===g&&1===l||!b[0].insideCanvas||(c=b&&a[0].chartX-b[0].chartX,p=b&&
a[0].chartY-b[0].chartY,n-=c/g,r-=p/l,g=e.canvasWidth*(g-1)/g,l=e.canvasHeight*(l-1)/l,k.x=n>g?g:0>n?0:n,k.y=r>l?l:0>r?0:r,d.updateManager(),u.draw(),v.draw())},end:function(c){var g=J(c,d),k=l.getAxisConfig("axisDimention").x||e.canvasLeft,h=e.canvasTop,p;p=e.canvasWidth/4;var v=e.canvasHeight/4,g=isNaN(g.chartX)||isNaN(g.chartY)?a[0]||b[0]:g;if(e.isDragging){if(m){if(b[0].insideCanvas||b[1].insideCanvas)c=d._getTouchViewPort(b,a,q),d.updateVisual(c.x,c.y,c.scaleX,c.scaleY);m=!1}else"zoom"===e.status&&
(c=g,p=b[0],r(p),r(c),h=d.getOriginalPositions(p.chartX-k,p.chartY-h,c.chartX-k,c.chartY-h))&&(c.pointValue=d.getValue({x:c.chartX,y:c.chartY}),E.raiseEvent("selectionEnd",{chartX:c.chartX,chartY:c.chartY,pageX:c.pageX,pageY:c.pageY,selectionTop:c.chartX+e.canvasLeft,selectionLeft:c.chartY+e.canvasTop,selectionWidth:Math.abs(c.chartX-p.chartX),selectionHeight:Math.abs(c.chartY-p.chartY),startXVAlue:p.pointValue.x,startYVAlue:p.pointValue.y,endXValue:c.pointValue.x,endYValue:c.pointValue.y},d.chartInstance,
[d.chartInstance.id]),p.chartX!==c.chartX&&p.chartY!==c.chartY&&d.zoomSelection(h[0],h[1],h[2],h[3]),d.updateSelectionBox(0,0,0,0));e.isDragging=!1;c=a[0]||b[0];c.data=d;d.searchMouseMove(c)}else g.insideCanvas&&(n+=1,setTimeout(function(){n=0;u=void 0},500),2===n?(c&&c.touches?!0:!1)===u&&(k=g.chartX-k,h=g.chartY-h,h=d.getOriginalPositions(k-p,h-v,k+p,h+v),d.zoomSelection(h[0],h[1],h[2],h[3]),c.preventDefault()):u=c&&c.touches?!0:!1);f.trackerGroup.attr({cursor:"default"})}};g.push(X(d.linkedItems.container,
"pointerdrag",function(a){p[a.state](a.originalEvent)}))},_drawDataset:function(){var c,b=this.components.dataset,a=b.length;for(c=0;c<a;c+=1)b[c]._deleteGridImages(),b[c].graphics._grid={};this.updateVisual()},updateVisual:function(c,b,a,d,e){var f,h,l,g,k;f=this.config;var m=this.components,n=f.viewPortConfig;k=f.canvasWidth;var u=f.canvasHeight,q=k,r=u,p=f.viewPortHistory,r=p.slice(-1)[0],w=[],w=f.status,x=f._initConfig;h=m.xAxis[0];g=m.yAxis[0];l=this.graphics;m=(m=m.quadrant)&&m.graphics.container;
q=f.maxZoomLimit;n.x=isNaN(c)?c=r.x:c;n.y=isNaN(b)?b=r.y:b;n.scaleX=a||(a=r.scaleX);n.scaleY=d||(d=r.scaleY);a>q&&(n.x=c=z(c,k-k/q),n.scaleX=a=q);d>q&&(n.y=b=z(b,u-u/q),n.scaleY=d=q);if(e)this.updateManager(e);else for(1<a||1<d?("zoom"===w&&this.toogleDragPan(!0),a>=r.scaleX||d>=r.scaleY?(p.push({scaleX:a,scaleY:d,x:c,y:b}),w=["zoomed","zoomIn"]):(p.pop(),r=p.slice(-1)[0],n.x=r.x,n.y=r.y,n.scaleX=r.scaleX,n.scaleY=r.scaleY,w=["zoomed","zoomOut"])):(1<p.length&&p.pop(),"pan"===w&&this.toogleDragPan(!0),
w=["zoomed","zoomOut"]),this.toogleDragPan(),q=f.canvasWidth,r=f.canvasHeight,c&&(c=n.x*=q/k),b&&(n.y*=r/u),f.canvasLeft=x.canvasLeft,f.canvasWidth=x.canvasWidth,f.canvasHeight=x.canvasHeight,f.canvasTop=x.canvasTop,f.availableHeight=x.availableHeight,f.availableWidth=x.availableWidth,this._spaceManager(),this._postSpaceManagement(),this.updateManager(),h.draw(),g.draw(),this._drawCanvas(),k={"clip-rect":f.canvasLeft+","+f.canvasTop+","+f.canvasWidth+","+f.canvasHeight},f.viewPortConfig&&this.graphics.imageContainer.attr({x:f.canvasLeft,
y:f.canvasRight}),l.imageContainer.attr(k).transform("T"+f.canvasLeft+","+f.canvasTop),l.tracker&&l.tracker.attr(k),m&&m.attr(k),f=h.getValue(0),h=h.getValue(q),l=g.getValue(0),g=g.getValue(r),0===arguments.length&&(w=F),k=0;k<w.length;k+=1)"zoomed"===w[k]&&E.raiseEvent("zoomed",{level:p.length,startX:f,startY:l,endX:h,endY:g},this.chartInstance,[this.chartInstance.id]),"zoomIn"===w[k]?E.raiseEvent("zoomedIn",{level:p.length,startX:f,startY:l,endX:h,endY:g},this.chartInstance,[this.chartInstance.id]):
"zoomOut"!==w[k]||n.isReset||E.raiseEvent("zoomedOut",{level:p.length,startX:f,startY:l,endX:h,endY:g},this.chartInstance,[this.chartInstance.id]);this.highlightPoint(!1);n.isReset=!1},getFillColor:function(c,b){b=parseFloat(b/100);0>b?b=0:1<b&&(b=1);c||(c="#FFFFFF");if(Z&&!ha)return b?c:"transparent";c=c.replace(/^#?([a-f0-9]+)/ig,"$1");c=v.graphics.HEXtoRGB(c);c[3]=b.toString();return"rgba("+c.join(",")+")"},_bestNeighbour:function(c){var b=this.components,a=this.config,d=b.xAxis[0],e=b.yAxis[0],
f=this.jsonData.chart,h=a.canvasLeft,l=a.canvasTop,g,k,m,n,u,q,r,p,w,x,t,A;A=b.numberFormatter;w=b.dataset;for(g=w.length-1;0<=g;--g)if(b=w[g],t=b.config,k=t.showHoverEffect,p=t.showTooltip,b.components.kDTree&&b.visible&&(n=b.getElement(c),b=this._dist(c,n),!u||b<q))if(m=g,u=n,q=b,r=w[m]&&t.zoomedRadius||0,q<=r)break;q<=B(r+2,5)?(c=d.getPixel(u.x)-h,l=e.getPixel(u.y)-l,h=y(u.tooltext,t.plotToolText),b=w[m],t=b.config,w=t.tooltip.toolTipSepChar,q=t.tooltip.seriesNameInToolTip,r=u.x,g=u.y,u&&(x=A.yAxis(g),
A=A.xAxis(r),x=Number(p)?void 0!==h?W(h,[4,5,6,7,8,9,10,11],{yaxisName:e.getAxisConfig("axisName"),xaxisName:d.getAxisConfig("axisName"),yDataValue:x,xDataValue:A},u,f,b.config):(q?t.seriesname?t.seriesname+w:"":"")+"x:"+A+w+"y:"+x:F),a.lastHoveredPoint!==u&&this.highlightPoint(k,c,l,u,m,x)):this.highlightPoint(!1)},highlightPoint:function(c,b,a,d,e,f){var h=this,l=h.config,g=h.components,k=h.graphics,m=g.paper,n=k.tracker,u=(g=g.dataset[e])&&g.config;e=g&&u.zoomedRadius||0;var q=g&&u.hoverCosmetics,
g=q&&q.fill,u=q&&q.borderColor,q=q&&q.borderThickness,r={},r=function(a){v.plotEventHandler.call(this,h,a)},p=function(a){v.plotEventHandler.call(this,h,a,"dataplotRollover")},w=function(a){v.plotEventHandler.call(this,h,a,"dataplotRollout")},x=d&&d.link;n||(n=k.tracker=m.circle(0,0,0,k.trackerGroup).attr({"clip-rect":l.canvasLeft+","+l.canvasTop+","+l.canvasWidth+","+l.canvasHeight}).click(r).trackTooltip(!0).hover(p,w));d&&n.data("eventArgs",{x:d.x,y:d.y,tooltip:f,link:x});l.lastHoveredPoint=d;
r=Number(c)?{r:e,fill:g,stroke:u,"stroke-width":q}:{r:e,fill:S,stroke:S,"stroke-width":0};r.cursor=x?"pointer":"";n.attr(r).tooltip(f).transform("t"+(b+l.canvasLeft)+","+(a+l.canvasTop));d&&la("mouseover",n&&n.node,l.lastMouseEvent)},zoom:function(c){var b,a,d=this.config,e=d.viewPortConfig;b=e.x;a=e.y;var f=d.canvasWidth,d=d.canvasHeight,h=f/e.scaleX,l=d/e.scaleY,e=h*c;c*=l;e=e>f?f:e;c=c>d?d:c;b=b+h/2-e/2;a=a+l/2-c/2;b=0>b?0:b;a=0>a?0:a;b=b+e>f?f-e:b;a=a+c>d?d-c:a;this.zoomSelection(b,a,e,c)},updateButtonVisual:function(){var c,
b,a,d;a=this.config;var e=this.components.tb.graphics;c=a.status;var f;1>=a.viewPortHistory.length?(a=["zoomOutButton","resetButton","togglePanButton"],d=["zoomInButton"],f="toggleZoomInButton"):(d=["resetButton","zoomOutButton","zoomInButton"],a=[],"zoom"===c?(d.push("togglePanButton"),f="toggleZoomInButton"):"pan"===c&&(d.push("toggleZoomInButton"),f="togglePanButton"));for(c=0;c<a.length;c+=1)b=a[c],e[b].node.attr({config:{hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"},
normal:{fill:"#FFFFFF",stroke:"#E3E3E3","stroke-width":1,cursor:"default"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],"button-disabled":!1,stroke:"#E3E3E3","stroke-opacity":1});for(c=0;c<d.length;c+=1)b=d[c],e[b].node.attr({config:{hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#aaaaaa",cursor:"pointer"},normal:{fill:"#FFFFFF",
stroke:"#C2C2C2","stroke-width":1,cursor:"pointer"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"pointer"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#C2C2C2",cursor:"pointer"}},"button-disabled":!1,fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],stroke:"#C2C2C2","stroke-opacity":1});e[f].node.attr({config:{hover:{fill:"#EFEFEF","stroke-width":1,stroke:"#EFEFEF",cursor:"default"},normal:{fill:"#EFEFEF",stroke:"#E3E3E3","stroke-width":1,cursor:"default"},
disable:{fill:"#E6E6E6","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},"button-disabled":!1,fill:["#EFEFEF","#EFEFEF","#EFEFEF","#EFEFEF",!0],stroke:"#E3E3E3","stroke-opacity":1})},_drawAxis:function(){}},I.scatterBase);O.register("component",["dataset","zoomscatter",{type:"zoomscatter",configure:function(){var c,b,a,d,e,f,h;f=this.chart;var l=f.config;d=f.jsonData.chart;var g=f.getFillColor,k=this.JSONData;
this.__base__.configure.call(this);f=this.config;b=this.components;c=y(k.anchorbordercolor,d.anchorbordercolor);f.anchorBorderThickness=y(k.anchorborderthickness,d.anchorborderthickness,c?1:0);b.kDTree=new P;f.chunkSize=Math.floor(z((k.data||[]).length/5,5E4));c=f.staticRadius=D(d.staticradius,0);f.radius=D(k.radius,k.anchorradius,d.radius,d.anchorradius,c?3:.5);h=f.showHoverEffect;c=R(y(k.plotfillhovercolor,k.hovercolor,d.plotfillhovercolor,d.hovercolor,f.anchorbgcolor));b=y(k.plotfillhoveralpha,
k.hoveralpha,d.plotfillhoveralpha,d.hoveralpha,U);a=R(y(k.plotfillhovercolor,k.hovercolor,d.plotfillhovercolor,d.hovercolor,c));e=y(k.plotfillhoveralpha,k.hoveralpha,d.plotfillhoveralpha,d.hoveralpha,U);d=D(k.borderhoverthickness,d.borderhoverthickness,1);f.hoverCosmetics={showHoverEffect:h,fill:g(c,b),borderColor:g(a,e),borderThickness:d};f.tooltip={toolTipVisible:l.showtooltip,seriesNameInToolTip:l.seriesnameintooltip,toolTipSepChar:l.tooltipsepchar};f.lastViewPort={}},draw:function(c){var b,a,
d;b=this.graphics;d=this.chart;a=d.components;var e=d.graphics.imageContainer,f=a.paper;d=d.config;var h=this.visible,l=d.viewPortConfig,g=this.config,k=g.lastViewPort||{},m=!1;b.container||(b.container=f.group("grid-container",e));h&&this._conatinerHidden?this.show():h||this._conatinerHidden||this.hide();if(c)this._pixelatedDraw();else{if(k.scaleX!==l.scaleX||k.scaleY!==l.scaleY)k.scaleX=l.scaleX,k.scaleY=l.scaleY,c=a.xAxis[0],b=a.yAxis[0],a=c.getPVR(),c=b.getPVR(),d=B(g.zoomedRadius=z(g.staticRadius?
g.radius:g.radius*z(l.scaleX,l.scaleY),d.canvasWidth/2,d.canvasHeight/2),2),this.components.kDTree._setSearchLimit(d/a,d/c),this._deleteGridImages(),this.graphics._grid={},m=!0;this._gridDraw(m)}},_pixelatedDraw:function(){var c,b,a,d,e,f=this.chart.config;a=this.config;d=this.graphics;var h=a.drawLine,l=a.lastViewPort||{},g=l.scaleX,k=l.scaleY;e=f.viewPortConfig;var m=e.scaleX,n=e.scaleY,l=this.graphics._grid||(this.graphics._grid=[]),g=m/g,k=n/k,n=f.canvasWidth*g,f=f.canvasHeight*k;a=a._batchDarwTimers;
d=d.container;clearTimeout(this.timer);if(a&&a.length)for(;a.length;)clearTimeout(a.shift());d.transform("t"+K(-e.x*e.scaleX)+","+K(-e.y*e.scaleY));for(c in l)if(e=l[c])for(b in e)(d=e[b])&&d.drawState&&(a=d.image,a.attr({x:d.xPixel*g,y:d.yPixel*k,width:n,height:f}),h&&(a=d.lineImage,a.attr({x:d.xPixel*g,y:d.yPixel*k,width:n,height:f})))},_deleteGridImages:function(){var c,b,a,d,e;b=this.config;var f=this.graphics,h=f._imagePool||(f._imagePool=[]),l=f._canvasPool||(f._canvasPool=[]),g=f._lineImagePool||
(f._lineImagePool=[]),k=f._lineCanvasPool||(f._lineCanvasPool=[]),m=f._grid||[];if((b=b._batchDarwTimers)&&b.length)for(;b.length;)clearTimeout(b.shift());for(a in m)if(e=m[a])for(d in e)(b=e[d])&&b.drawState&&(c=b.image,c.attr({src:"",width:0,height:0}),h.push(c),delete b.image,c=b.canvas,l.push(c),delete b.canvas,delete b.ctx,c=b.lineImage)&&(c.attr({src:"",width:0,height:0}),g.push(c),delete b.lineImage,c=b.lineCanvas,k.push(c),delete b.lineCanvas,delete b.lineCtx);delete f._grid},_gridDraw:function(c){var b=
this,a=b.graphics,d=b.config,e=b.chart.config.viewPortConfig;clearTimeout(d.timer);a.container.transform("t"+K(-e.x*e.scaleX)+","+K(-e.y*e.scaleY));c?b._gridManager():d.timer=setTimeout(function(){b._gridManager()},10)},_gridManager:function(){var c,b,a,d,e,f,h,l,g,k=this,m=k.config,n=k.graphics._grid,u=m._drawGrid||(m._drawGrid=[]),q=k.chart,r=q.config,q=q.components;e=r.viewPortConfig;f=e.scaleX;var p=e.scaleY;h=Math.ceil(p);d=Math.ceil(f);var w=q.xAxis[0],x=q.yAxis[0],q=w.getAxisConfig("axisDimention").axisLength||
r.canvasWidth,r=r.canvasHeight,t=w.config,A=x.config,v=t.axisRange.min,t=t.axisRange.max,y=A.axisRange.min,A=A.axisRange.max,D=(t-v)/f,C=(A-y)/p;b=m.radius*z(e.scaleX,e.scaleY)+m.plotCosmetics.borderWidth;w=T(b/(q*e.scaleX/(w.max-w.min)));x=T(b/(r*e.scaleY/(x.max-x.min)));b=q/f;g=r/p;c=z(1,b/10,g/10);var p={},E=[];f=e.x+c;b=e.x-c+b;l=e.y+c;c=e.y+g-c;e=k._getFocusedGrid(f,l);g=p[e.row]||(p[e.row]={});g[e.col]=!0;e=k._getFocusedGrid(b,l);g=p[e.row]||(p[e.row]={});g[e.col]=!0;e=k._getFocusedGrid(b,c);
g=p[e.row]||(p[e.row]={});g[e.col]=!0;e=k._getFocusedGrid(f,c);g=p[e.row]||(p[e.row]={});g[e.col]=!0;f=k._getFocusedGrid();e=f.row;f=f.col;b=B(e-1,0);e=z(e+1,h-1);h=B(f-1,0);f=z(f+1,d-1);d=A-b*C;for(l=b;l<=e;l+=1){n[l]||(n[l]={});b=v+h*D;for(g=h;g<=f;g+=1)c=n[l][g],c||(a=B(d-C,y),c=z(b+D,t),c=n[l][g]={xPixel:g*q,yPixel:l*r,xMinValue:b,yMinValue:a,xMaxValue:c,yMaxValue:d,drawState:0,xMinWPad:B(b-w,v),yMinWPad:B(a-x,y),xMaxWPad:z(c+w,t),yMaxWPad:z(d+x,A)}),c.drawState||(p[l]&&p[l][g]?u.push({row:l,
col:g}):E.push({row:l,col:g})),b+=D;d-=C}(u.length||E.length)&&k._drawGridArr(function(){m._drawGrid=E;k._drawGridArr()})},_getFocusedGrid:function(c,b){var a=this.chart.config,d=a.viewPortConfig,e=a.canvasWidth/d.scaleX,a=a.canvasHeight/d.scaleY,f=isNaN(c)?d.x+e/2:c,d=isNaN(b)?d.y+a/2:b;return{row:aa(d/a),col:aa(f/e)}},_drawGridArr:function(c){var b,a,d,e,f=this.chart;b=f.config;var h=f.components,l=b.viewPortConfig,g=this.config,k=g.drawLine,m=g._drawGrid,n=[],u=this.graphics.container,q=h.paper,
h=h.xAxis[0].getAxisConfig("axisDimention").axisLength||b.canvasWidth,r=b.canvasHeight,p=this.graphics._grid,w=this.graphics._imagePool||[],x=this.graphics._canvasPool||[],t=this.graphics._lineImagePool||[],A=this.graphics._lineCanvasPool||[],v=g.plotCosmetics,l=g.radius*z(l.scaleX,l.scaleY),f=(f.components.xAxis[0].getAxisConfig("axisDimention").x||b.canvasLeft)-b.canvasLeft;if(m.length){for(;m.length;)b=m.shift(),b=p[b.row][b.col],2!==b.drawState&&(b.drawState=2,k&&(b.lineImage=t.length?t.shift():
q.image("",u),b.lineImage.attr({x:b.xPixel+f,y:b.yPixel,width:h,height:r}),b.lineCanvas=x.length?d=A.shift():d=Q.document.createElement("canvas"),d.setAttribute("width",h),d.setAttribute("height",r),e=b.lineCtx=d.getContext("2d"),e.fillStyle=v.fillStyle,e.strokeStyle=v.lineStrokeStyle,e.lineWidth=v.lineWidth),b.image=w.length?w.shift():q.image("",u),b.image.attr({x:b.xPixel+f,y:b.yPixel,width:h,height:r}),b.canvas=x.length?a=x.shift():a=Q.document.createElement("canvas"),a.setAttribute("width",h),
a.setAttribute("height",r),e=b.ctx=a.getContext("2d"),1>l?(e.strokeStyle=v.fillStyle,e.lineWidth=.5):(e.fillStyle=v.fillStyle,e.strokeStyle=v.strokeStyle,e.lineWidth=v.borderWidth),n.push(b));g._batchDrawindex=this.JSONData.data&&this.JSONData.data.length-1||0;this._drawGridArrBatch(n,c,!g.animation.enabled)}else c&&c()},_drawGridArrBatch:function(c,b,a){var d,e,f,h,l,g,k,m,n,u,q,r,p,w,x,t,v=this;g=v.config;var y=v.chart.components;t=v.config;var z=t.drawLine;m=t.plotCosmetics;h=t._batchDrawindex;
f=v.components.data;l=h-t.chunkSize;var B=y.yAxis[0],D=t.zoomedRadius,y=y.xAxis[0].getPVR(),B=B.getPVR(),C=g.showRegressionLine,E=t._store||[],F=m.lineWidth||1>D;C&&(w=g.regLineColor,x=g.regressionLineThickness);for(m=0;m<c.length;m+=1)c[m].ctx.beginPath(),z&&c[m].lineCtx.beginPath();for(l=0>=l?0:l;h>=l;--h)if((q=f[h]&&f[h].config.setValue)&&!isNaN(q.x)&&!isNaN(q.y))for(m=0;m<c.length;m+=1)(d=c[m],r=d.xMinValue,p=d.yMaxValue,q.x<d.xMinWPad||q.x>d.xMaxWPad||q.y<d.yMinWPad||q.y>d.yMaxWPad||(n=d.ctx,
u=d.lineCtx,d=K((q.x-r)*y),e=K((p-q.y)*B),(k=E[d])||(k=E[d]={}),k[e]))||(k[e]=!0,z&&(k=0<=h-1&&f[h-1].config.setValue)&&(u.moveTo(K((k.x-r)*y),K((p-k.y)*B)),u.lineTo(d,e)),1>D?(n.moveTo(d,e),n.lineTo(d+1,e)):(n.moveTo(d+D,e),n.arc(d,e,D,0,ia)));for(m=0;m<c.length;m+=1)d=c[m],n=d.ctx,n.fill(),F&&n.stroke(),n.closePath(),z&&(u=d.lineCtx,u.fill(),F&&u.stroke(),u.closePath());t._batchDrawindex=h;if(0<=h){if(!a)for(m=0;m<c.length;m+=1)n=c[m].image,f=c[m].canvas,n.attr({src:f.toDataURL("image/png")}),t.drawLine&&
(w=c[m].lineImage,x=c[m].lineCanvas,w.attr({src:x.toDataURL("image/png")}));(t._batchDarwTimers||(t._batchDarwTimers=[])).push(setTimeout(function(){v.chart&&v._drawGridArrBatch(c,b,a)},0))}else{delete t._store;if(C)for(t=g.regressionData,m=0;m<c.length;m+=1)d=c[m],h=d.xMinValue,g=d.yMaxValue,n=d.image,f=d.canvas,n=d.ctx,f=(t[0].x-h)*y,l=(g-t[0].y)*B,h=(t[1].x-h)*y,g=(g-t[1].y)*B,n.beginPath(),n.strokeStyle=w,n.lineWidth=x,n.moveTo(f,l),n.lineTo(h,g),n.stroke(),n.closePath();for(m=0;m<c.length;m+=
1)d=c[m],n=d.image,f=d.canvas,d.drawState=1,n.attr({src:f.toDataURL("image/png")}),z&&(w=d.lineImage,x=d.lineCanvas,w.attr({src:x.toDataURL("image/png")}));v.tree||setTimeout(function(){v._buildKdTree()},250);b&&b()}},_buildKdTree:function(){var c=this.config;c._kdPoints=(this.JSONData.data||[]).slice();this.components.kDTree||(this.components.kDTree=new P);this.components.kDTree.buildKdTree(c._kdPoints);delete c._kdPoints},getElement:function(c){if(this.components.kDTree)return this.components.kDTree.getNeighbour(c)},
show:function(){var c=this.graphics,c=c&&c.container;this.visible=!0;this._conatinerHidden=!1;c.show()},hide:function(){var c=this.graphics,c=c&&c.container;this.visible=!1;this._conatinerHidden=!0;c.hide()},_addLegend:function(){var c=this.chart,b=c.jsonData.chart,a=this.config,d=this.JSONData,e=c.getFillColor,f=y(d.anchorbordercolor,b.anchorbordercolor),h=R(y(f,a.plotBorderColor)),f=D(d.anchorborderthickness,b.anchorborderthickness,f?1:0),l=R(y(d.anchorbgcolor,d.color,b.anchorbgcolor,a.plotColor)),
g=y(d.anchoralpha,d.alpha,b.anchoralpha,U),b=y(d.anchorbgalpha,d.alpha,b.anchorbgalpha,U),d={color:a.lineColor,alpha:a.lineAlpha},e=a.plotCosmetics={fillStyle:e(l,g*b/100),strokeStyle:e(h,g),borderWidth:f,lineWidth:a.lineThickness,lineStrokeStyle:ga(d)};this.legendItemId=c.components.legend.addItems(this,this.legendInteractivity,{enabled:a.includeInLegend,type:this.type,fillColor:e.fillStyle,strokeColor:e.strokeStyle,anchorSide:2,strokeWidth:a.anchorBorderThickness,label:fa(this.JSONData.seriesname)})},
_setConfigure:function(){var c,b,a,d,e,f,h,l,g,k=-Infinity,m=Infinity,n=Infinity,u=-Infinity,q=this.components.data||(this.components.data=[]);c=this.chart;var r=v.parseUnsafeString,p=this.config,w=this.JSONData,x=c.jsonData.chart,t=w.data||[],A=t.length,C=c.components.numberFormatter,E=r(x.yaxisname),G=r(x.xaxisname),K=p.lineDashed,L=p.lineDashStyle,H=p.parentYAxis,I=p.toolTipSepChar,J=p.seriesname;for(c=0;c<A;c+=1)d=t[c],a=q[c]||(q[c]={}),b=a.config||(a.config={}),b.setValue=e={x:C.getCleanValue(d.x),
y:C.getCleanValue(d.y),index:c},u=B(u,e.x),n=z(n,e.x),k=B(k,e.y),m=z(m,e.y),p.showRegressionLine&&this.pointValueWatcher(e.x,e.y,p.regressionObj),b.setLink=y(d.link),b.anchorProps=this._parseAnchorProperties(c),b.showValue=D(d.showvalue,p.showValues),b.dashed=D(d.dashed,K),b.color=y(d.color,p.lineColor),b.alpha=y(d.alpha,p.lineAlpha),b.dashStyle=b.dashed?L:"none",b.toolTipValue=f=C.dataLabels(e.y,H),b.setDisplayValue=g=r(d.displayvalue),l=b.formatedVal=y(d.toolTipValue,C.dataLabels(e.y,H)),h=C.xAxis(e.x),
b.displayValue=y(g,f),b.setTooltext=v.getValidValue(r(y(d.tooltext,p.plotToolText))),p.showTooltip?void 0!==b.setTooltext?(e=[4,5,6,7,8,9,10,11],h={yaxisName:E,xaxisName:G,yDataValue:l,xDataValue:h},d=W(b.setTooltext,e,h,d,x,w)):null===l?d=!1:(d=J?J+I:F,d+=e.x?h+I:F,d+=f):d=!1,b.toolText=d,a?a.graphics||(q[c].graphics={}):a=q[c]={graphics:{}},b.hoverEffects=this._parseHoverEffectOptions(a),b.anchorProps.isAnchorHoverRadius=b.hoverEffects.anchorRadius;p.xMax=u;p.xMin=n;p.yMin=m;p.yMax=k;p.showRegressionLine&&
(p.regressionData=this.getRegressionLineSeries(p.regressionObj,p.showYOnX,A));this.ErrorValueConfigure&&this.ErrorValueConfigure()}},"Scatter"]);ba=function(c,b){return c.x-b.x};ca=function(c,b){return c.y-b.y};P.prototype={buildKdTree:function(c){this.tree=this._buildKdTree(c,!1)},getNeighbour:function(c){var b=this.tree,a={x1:c.x-this.xLimit,x2:c.x+this.xLimit,y1:c.y-this.yLimit,y2:c.y+this.yLimit};c=this._getIsWithinLimitFn(c);if(b)return this._searchBtwnLimit(a,b,!1,c)},_getIsWithinLimitFn:function(c){var b=
this;return function(a){return a&&1>=Math.pow((a.x-c.x)/b.xLimit,2)+Math.pow((a.y-c.y)/b.yLimit,2)?!0:!1}},_compair2closest:function(c,b){if(c){if(b)return b.i>c.i?b:c}else return b;return c},_searchBtwnLimit:function(c,b,a,d){var e,f,h,l;h=a?"x":"y";var g=a?c.x1:c.y1,k=a?c.x2:c.y2;if(b)return e=b.point1?b.point1[h]:k,f=b.point2?b.point2[h]:k,h=b.point3?b.point3[h]:k,d(b.point1)&&(l=this._compair2closest(l,b.point1)),e>=g&&b.left&&(l=this._compair2closest(l,this._searchBtwnLimit(c,b.left,!a,d))),
e<=k&&b.middle1&&(d(b.point2)&&(l=this._compair2closest(l,b.point2)),f>=g&&(l=this._compair2closest(l,this._searchBtwnLimit(c,b.middle1,!a,d))),f<=k&&b.middle2&&(d(b.point3)&&(l=this._compair2closest(l,b.point3)),h>=g&&(l=this._compair2closest(l,this._searchBtwnLimit(c,b.middle2,!a,d))),h<=k&&b.right&&(l=this._compair2closest(l,this._searchBtwnLimit(c,b.right,!a,d))))),l},_buildKdTree:function(c,b){var a,d,e;if(a=c&&c.length)return c.sort(b?ba:ca),7<a?(a=Math.floor(a/4),d=2*(a+1)-1,e=3*(a+1)-1,{left:this._buildKdTree(c.slice(0,
a),!b),point1:c[a],middle1:this._buildKdTree(c.slice(a+1,d),!b),point2:c[d],middle2:this._buildKdTree(c.slice(d+1,e),!b),point3:c[e],right:this._buildKdTree(c.slice(e+1),!b)}):{left:2<=a?{point1:c[0]}:void 0,point1:1<=a?1===a?c[0]:c[1]:void 0,middle1:3<=a?{point1:c[2]}:void 0,point2:4<=a?c[3]:void 0,middle2:5<=a?{point1:c[4]}:void 0,point3:6<=a?c[5]:void 0,right:7==a?{point1:c[6]}:void 0}},_setSearchLimit:function(c,b){this.xLimit=c;this.yLimit=b}};P.prototype.constructor=P;M.addSymbol({zoomInIcon:function(c,
b,a){c-=.2*a;b-=.2*a;var d=.8*a,e=M.rad(43),f=M.rad(48),h=c+d*L(e),e=b+d*H(e),l=c+d*L(f),f=b+d*H(f),g=M.rad(45),k=h+a*L(g),m=e+a*H(g),n=l+a*L(g)-1;a=f+a*H(g)-1;return["M",h,e,"A",d,d,0,1,0,l,f,"Z","M",h+1,e+1,"L",k,m,n,a,l+1,f+1,"Z","M",c-2,b,"L",c+2,b,"Z","M",c,b-2,"L",c,b+2,"Z"]},zoomModeIcon:function(c,b,a){var d=[];c-=.2*a;b-=.2*a;var e=.8*a,f=M.rad(43),h=M.rad(48),l=c+e*L(f),f=b+e*H(f),g=c+e*L(h),h=b+e*H(h),k=M.rad(45),m=l+a*L(k),n=f+a*H(k),u=g+a*L(k)-1;a=h+a*H(k)-1;return d=d.concat(["M",l,
f,"A",e,e,0,1,0,g,h,"Z","M",l+1,f+1,"L",m,n,u,a,u+1,a-1,u+1.5,a+1.5,u-1,a+1,u,a,g+1,h+1,"Z","M",c-2,b,"L",c+2,b,"Z","M",c,b-2,"L",c,b+2,"Z"])},panModeIcon:function(c,b,a){var d=c-11.25,d=c;a*=2.5;return[].concat(["M",d-a/16,b-a/8,"L",d+a/16,b-a/8,"L",d+a/16,b-a/3.2,"L",d+6*a/32,b-10*a/32,"L",d,b-a/2,"L",d-6*a/32,b-10*a/32,"L",d-a/16,b-a/3.2,"Z","M",d+4*a/32,b-2*a/32,"L",d+10*a/32,b-2*a/32,"L",d+10*a/32,b-6*a/32,"L",d+16*a/32,b,"L",d+10*a/32,b+6*a/32,"L",d+10*a/32,b+2*a/32,"L",d+4*a/32,b+2*a/32,"Z",
"M",d+2*a/32,b+5*a/32,"L",d+2*a/32,b+10*a/32,"L",d+6*a/32,b+10*a/32,"L",d,b+16*a/32,"L",d-6*a/32,b+10*a/32,"L",d-2*a/32,b+10*a/32,"L",d-2*a/32,b+5*a/32,"Z","M",d-4*a/32,b-2*a/32,"L",d-10*a/32,b-2*a/32,"L",d-10*a/32,b-6*a/32,"L",d-16*a/32,b,"L",d-10*a/32,b+6*a/32,"L",d-10*a/32,b+2*a/32,"L",d-4*a/32,b+2*a/32,"Z"])}})}])});
