<meta charset="utf-8">
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<head>
  <style>

  .axis {
    font: 10px sans-serif;
  }

  .axis path,
  .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }

  </style>
</head>
<body>
<canvas id="radarChart" width="800" height="650"></canvas>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.1/Chart.js"></script>

<script>
// JSON Data for this session, loaded via AJAX call
var jscontent = []

// Document ready function 
$( document ).ready(function(){

  var xhttp = new XMLHttpRequest();
  xhttp.open("GET", "https://conference.eastus.cloudapp.azure.com/RocConf/serverapi.php?mode=affdexaverages&session_key=test-key-test&user=Luis", false);
  xhttp.send();
  jscontent = JSON.parse(xhttp.responseText);
  
  var overall_stats = jscontent["0"];
	
  var jsonobject = [];

  
  //engagement 17
  jsonobject.engagement = overall_stats.engagement;

  //attention 32
  jsonobject.attention = overall_stats.attention;

  //surprise 14
  jsonobject.surprise = overall_stats.surprise;

  //contempt 15
  jsonobject.contempt = overall_stats.contempt;

  //joy 9
  jsonobject.joy = overall_stats.joy;

  //smirk 30
  jsonobject.smirk = overall_stats.smirk;

  //relaxed 33
  jsonobject.relaxed = overall_stats.relaxed;

  //disappointed 37
  jsonobject.disappointed = overall_stats.disappointed;


  //radar chart data
  var radarData = {
    labels : ["Engagement","Attention","Surprise","Contempt","Joy","Smirk","Relaxed","Disappointed"],
    datasets : [
      {
        fillColor: "rgba(102,45,145,.1)",
        strokeColor: "rgba(102,45,145,1)",
        pointColor : "rgba(220,220,220,1)",
        pointStrokeColor : "#fff",
        data : [jsonobject.engagement,jsonobject.attention,jsonobject.surprise,jsonobject.contempt,jsonobject.joy,jsonobject.smirk,jsonobject.relaxed,jsonobject.disappointed]

      }/*,
      {
            fillColor: "rgba(63,169,245,.1)",
              strokeColor: "rgba(63,169,245,1)",
        pointColor : "rgba(151,187,205,1)",
        pointStrokeColor : "#fff",
        data : [28,48,40,19,96,27,100]
      }*/
    ]
  }

//Create Radar chart
var ctx = document.getElementById("radarChart").getContext("2d");
var myNewChart = new Chart(ctx,{type:'radar', data: radarData, option:"");

})



</script>
</body>

</html>